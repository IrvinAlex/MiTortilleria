"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6691],{6691:(P,y,i)=>{i.r(y),i.d(y,{SignUpPageModule:()=>D});var e=i(177),l=i(9417),m=i(5933),h=i(8265),g=i(467),o=i(4438),I=i(8663),u=i(2723),v=i(8461),c=i(8827),f=i(5621);function p(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"Este campo es requerido"),o.k0s())}function U(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"Ingrese un nombre con al menos 4 caracteres"),o.k0s())}function G(n,a){if(1&n&&(o.j41(0,"div",9),o.DNE(1,p,2,0,"div",10)(2,U,2,0,"div",10),o.k0s()),2&n){const s=o.XpG();o.R7$(),o.Y8G("ngIf",null==s.form.controls.name.errors?null:s.form.controls.name.errors.required),o.R7$(),o.Y8G("ngIf",null==s.form.controls.name.errors?null:s.form.controls.name.errors.minLenght)}}function C(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"El correo es requerido"),o.k0s())}function E(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"Ingrese un correo valido"),o.k0s())}function R(n,a){if(1&n&&(o.j41(0,"div",9),o.DNE(1,C,2,0,"div",10)(2,E,2,0,"div",10),o.k0s()),2&n){const s=o.XpG();o.R7$(),o.Y8G("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.required),o.R7$(),o.Y8G("ngIf",null==s.form.controls.email.errors?null:s.form.controls.email.errors.email)}}function b(n,a){1&n&&(o.j41(0,"div"),o.EFF(1,"La contrase\xf1a es requerida"),o.k0s())}function T(n,a){if(1&n&&(o.j41(0,"div",9),o.DNE(1,b,2,0,"div",10),o.k0s()),2&n){const s=o.XpG();o.R7$(),o.Y8G("ngIf",null==s.form.controls.password.errors?null:s.form.controls.password.errors.required)}}const M=[{path:"",component:(()=>{var n;class a{constructor(){this.form=new l.gE({uid:new l.MJ(""),email:new l.MJ("",[l.k0.required,l.k0.email]),password:new l.MJ("",[l.k0.required,l.k0.minLength(8)]),name:new l.MJ("",[l.k0.required,l.k0.minLength(4)])}),this.firebaseSvc=(0,o.WQX)(I.f),this.utilSvc=(0,o.WQX)(u.T)}ngOnInit(){}submit(){var r=this;return(0,g.A)(function*(){if(r.form.valid){const t=yield r.utilSvc.loading();yield t.present(),r.firebaseSvc.signUp(r.form.value).then(function(){var d=(0,g.A)(function*(S){yield r.firebaseSvc.updateUser(r.form.value.name);let _=S.user.uid;r.form.controls.uid.setValue(_),r.setUserInfo(_)});return function(S){return d.apply(this,arguments)}}()).catch(d=>{r.utilSvc.presentToast({message:d.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{t.dismiss()})}})()}setUserInfo(r){var t=this;return(0,g.A)(function*(){if(t.form.valid){const d=yield t.utilSvc.loading();yield d.present();let S=`users/${r}`;delete t.form.value.password,t.firebaseSvc.setDocumet(S,t.form.value).then(function(){var _=(0,g.A)(function*(F){t.utilSvc.saveInLocalStorage("user",t.form.value),t.utilSvc.routerLink("/main/home"),t.form.reset()});return function(F){return _.apply(this,arguments)}}()).catch(_=>{t.utilSvc.presentToast({message:_.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{d.dismiss()})}})()}}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275cmp=o.VBU({type:n,selectors:[["app-sign-up"]],decls:14,vars:8,consts:[["backButton","/inicio","title","Registrar"],[1,"d-flex-center"],[1,"auth-form",3,"ngSubmit","keypress.enter","formGroup"],["autocomplete","name","icon","person-circle-outline","type","text","label","Nombre",3,"control"],["class","validators",4,"ngIf"],["autocomplete","email","icon","mail-outline","type","email","label","Correo",3,"control"],["icon","lock-closed-outline","type","password","label","Contrase\xf1a",3,"control"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","person-add-outline"],[1,"validators"],[4,"ngIf"]],template:function(r,t){1&r&&(o.nrm(0,"app-header",0),o.j41(1,"ion-content")(2,"div",1)(3,"form",2),o.bIt("ngSubmit",function(){return t.submit()})("keypress.enter",function(){return t.submit()}),o.nrm(4,"app-logo")(5,"app-custom-input",3),o.DNE(6,G,3,2,"div",4),o.nrm(7,"app-custom-input",5),o.DNE(8,R,3,2,"div",4),o.nrm(9,"app-custom-input",6),o.DNE(10,T,2,1,"div",4),o.j41(11,"ion-button",7),o.EFF(12," Registrate "),o.nrm(13,"ion-icon",8),o.k0s()()()()),2&r&&(o.R7$(3),o.Y8G("formGroup",t.form),o.R7$(2),o.Y8G("control",t.form.controls.name),o.R7$(),o.Y8G("ngIf",t.form.controls.name.errors&&t.form.controls.name.touched),o.R7$(),o.Y8G("control",t.form.controls.email),o.R7$(),o.Y8G("ngIf",t.form.controls.email.errors&&t.form.controls.email.touched),o.R7$(),o.Y8G("control",t.form.controls.password),o.R7$(),o.Y8G("ngIf",t.form.controls.password.errors&&t.form.controls.password.touched),o.R7$(),o.Y8G("disabled",t.form.invalid))},dependencies:[e.bT,l.qT,l.cb,m.Jm,m.W9,m.iq,v.l,c.H,f.Z,l.j4]}),a})()}];let $=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[h.iI.forChild(M),h.iI]}),a})();var Y=i(7383);let D=(()=>{var n;class a{}return(n=a).\u0275fac=function(r){return new(r||n)},n.\u0275mod=o.$C({type:n}),n.\u0275inj=o.G2t({imports:[e.MD,l.YN,m.bv,$,Y.G]}),a})()},8827:(P,y,i)=>{i.d(y,{H:()=>I});var e=i(4438),l=i(177),m=i(5933),h=i(9417);function g(u,v){if(1&u&&e.nrm(0,"ion-icon",4),2&u){const c=e.XpG();e.Y8G("name",c.icon)}}function o(u,v){if(1&u){const c=e.RV6();e.j41(0,"ion-button",5),e.bIt("click",function(){e.eBV(c);const p=e.XpG();return e.Njj(p.showOrHidePassword())}),e.nrm(1,"ion-icon",6),e.k0s()}if(2&u){const c=e.XpG();e.R7$(),e.Y8G("name",c.hide?"eye-outline":"eye-off-outline")}}let I=(()=>{var u;class v{constructor(){this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}showOrHidePassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}}return(u=v).\u0275fac=function(f){return new(f||u)},u.\u0275cmp=e.VBU({type:u,selectors:[["app-custom-input"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon"},decls:4,vars:6,consts:[["lines","none",1,"custom-input"],["color","primary","slot","start",3,"name",4,"ngIf"],["label-placement","floating",3,"type","autocomplete","label","formControl"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["color","primary","slot","start",3,"name"],["slot","end","fill","clear","shape","round",3,"click"],["slot","icon-only",3,"name"]],template:function(f,p){1&f&&(e.j41(0,"ion-item",0),e.DNE(1,g,1,1,"ion-icon",1),e.nrm(2,"ion-input",2),e.DNE(3,o,2,1,"ion-button",3),e.k0s()),2&f&&(e.R7$(),e.Y8G("ngIf",p.icon),e.R7$(),e.Y8G("type",p.type)("autocomplete",p.autocomplete)("label",p.label)("formControl",p.control),e.R7$(),e.Y8G("ngIf",p.isPassword))},dependencies:[l.bT,m.Jm,m.iq,m.$w,m.uz,m.Gw,h.BC,h.l_]}),v})()}}]);