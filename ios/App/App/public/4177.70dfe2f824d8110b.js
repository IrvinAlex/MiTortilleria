"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4177],{4177:(Y,b,i)=>{i.r(b),i.d(b,{EventosPageModule:()=>j});var u=i(177),p=i(9417),c=i(5933),P=i(8265),m=i(467),t=i(4438),_=i(2784),C=i(7517),v=i(2723),M=i(1587),y=i(8461);const O=e=>[e,"MXN","symbol-narrow","1.2-2","en-US"];function w(e,a){if(1&e){const r=t.RV6();t.j41(0,"ion-button",12),t.bIt("click",function(){t.eBV(r);const o=t.XpG().$implicit,s=t.XpG();return t.Njj(s.modalCarrito(o))}),t.EFF(1," Agregar al carrito "),t.nrm(2,"ion-icon",13),t.k0s()}}function k(e,a){if(1&e){const r=t.RV6();t.j41(0,"ion-button",14),t.bIt("click",function(){t.eBV(r);const o=t.XpG(2);return t.Njj(o.goToCart())}),t.EFF(1," Ver en carrito "),t.nrm(2,"ion-icon",15),t.k0s()}}function E(e,a){if(1&e&&(t.j41(0,"ion-card",5)(1,"div",6),t.nrm(2,"img",7),t.k0s(),t.j41(3,"ion-card-header")(4,"ion-card-title"),t.EFF(5),t.k0s()(),t.j41(6,"ion-card-content",8),t.EFF(7),t.j41(8,"div",9)(9,"strong"),t.EFF(10,"Precio: "),t.k0s(),t.EFF(11),t.nI1(12,"currency"),t.k0s(),t.DNE(13,w,3,0,"ion-button",10)(14,k,3,0,"ion-button",11),t.k0s()()),2&e){const r=a.$implicit,n=t.XpG();t.R7$(2),t.Y8G("src",r.imagen,t.B4B),t.R7$(3),t.JRh(r.nombre),t.R7$(2),t.SpI(" ",r.descripcion," "),t.R7$(4),t.SpI("",t.iJd(12,6,t.eq3(12,O,r.precio_mostrador))," MXN "),t.R7$(2),t.Y8G("ngIf",!n.isProductInCart(r)),t.R7$(),t.Y8G("ngIf",n.isProductInCart(r))}}const R=[{path:"",component:(()=>{var e;class a{constructor(){this.utilsSvc=(0,t.WQX)(v.T),this.firebaseSvc=(0,t.WQX)(C.f),this.productos=[],this.rango_productos=[],this.allProductos=[],this.searchTerm="",this.alertButtons=[{text:"Cancelar",role:"cancel",handler:()=>{}},{text:"Iniciar sesi\xf3n",role:"confirm",handler:()=>{this.utilsSvc.routerLink("auth")}}]}ngOnInit(){this.getProductos()}carrito(){return this.utilsSvc.getFromLocalStorage("carrito_eventos")}getCartCount(){const n=this.carrito();return n&&n[0]&&Array.isArray(n[0].detalle_carrito)?n[0].detalle_carrito.length:0}modalCarrito(n){var o=this;return(0,m.A)(function*(){yield o.utilsSvc.presentModal({component:M.d,cssClass:"app-terms",componentProps:{producto:n}})})()}getProductos(){var n=this;return(0,m.A)(function*(){const o=yield n.utilsSvc.loading();yield o.present();let d=n.firebaseSvc.getCollectionData("rango_productos",[(0,_._M)("tipo","==","Evento")]).subscribe({next:x=>{n.rango_productos=x,n.utilsSvc.setElementInLocalstorage("rango_productos",x),d.unsubscribe()}}),h=[];setTimeout(()=>{console.log(n.rango_productos),n.rango_productos.forEach(f=>{h.push((0,_._M)("nombre","==",f.producto))}),console.log(h);let S=n.firebaseSvc.getCollectionData("productos",h).subscribe({next:f=>{n.productos=f,n.allProductos=f,n.productos.forEach(function(){var F=(0,m.A)(function*(l){n.rango_productos.forEach(g=>{g.producto==l.nombre&&(l.minimo=g.min_producto,l.maximo=g.max_producto)});const z=`productos/${l.id}/opciones`;try{let g=n.firebaseSvc.getCollectionData(z,[]).subscribe({next:G=>{l.opciones=G,o.dismiss(),g.unsubscribe()}})}catch{}});return function(l){return F.apply(this,arguments)}}()),S.unsubscribe()}})},1e3)})()}filterProductos(){const n=this.searchTerm.toLowerCase();this.productos=n?this.allProductos.filter(o=>o.nombre.toLowerCase().includes(n)||o.descripcion.toLowerCase().includes(n)||o.precio.toString().includes(n)):[...this.allProductos]}isProductInCart(n){const o=this.carrito();return console.log(o),!!(o[0].total>0&&o[0]&&Array.isArray(o[0].detalle_carrito))}goToCart(){this.utilsSvc.routerLink("/main/carrito-eventos")}}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.VBU({type:e,selectors:[["app-eventos"]],decls:5,vars:5,consts:[["title","Eventos","buttonCartEvents","true",3,"showMenu","cartCount"],[3,"fullscreen"],["mode","ios","animated","true","placeholder","Buscar producto",3,"ngModelChange","ionInput","ngModel"],[1,"card-container"],["class","target",4,"ngFor","ngForOf"],[1,"target"],[1,"contimg"],[2,"width","250px",3,"src"],[1,"text"],[1,"precio"],["class","btntarget","expand","block",3,"click",4,"ngIf"],["class","btntarget","expand","block","color","success",3,"click",4,"ngIf"],["expand","block",1,"btntarget",3,"click"],["name","cart-outline"],["expand","block","color","success",1,"btntarget",3,"click"],["name","checkmark-circle-outline"]],template:function(n,o){1&n&&(t.nrm(0,"app-header",0),t.j41(1,"ion-content",1)(2,"ion-searchbar",2),t.mxI("ngModelChange",function(d){return t.DH7(o.searchTerm,d)||(o.searchTerm=d),d}),t.bIt("ionInput",function(){return o.filterProductos()}),t.k0s(),t.j41(3,"div",3),t.DNE(4,E,15,14,"ion-card",4),t.k0s()()),2&n&&(t.Y8G("showMenu",!0)("cartCount",o.getCartCount()),t.R7$(),t.Y8G("fullscreen",!0),t.R7$(),t.R50("ngModel",o.searchTerm),t.R7$(2),t.Y8G("ngForOf",o.productos))},dependencies:[u.Sq,u.bT,p.BC,p.vS,c.Jm,c.b_,c.I9,c.ME,c.tN,c.W9,c.iq,c.S1,c.Gw,y.l,u.oe],styles:['@charset "UTF-8";.tituloprin1[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-style:normal;line-height:60px;text-align:center;font-weight:900;font-size:45px;color:#00c089;-webkit-background-clip:text}.containerone[_ngcontent-%COMP%]{margin-top:1rem;background:#000;padding:2rem;border-radius:2rem;overflow:hidden;position:relative;box-shadow:10px 14px 20px #101010}.titleOne[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-style:normal;line-height:25px;text-align:center;font-weight:900;font-size:25px}.powered[_ngcontent-%COMP%]{font-size:10px;font-family:Readex Pro,sans-serif;text-align:center}.powered[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:1rem}.titleTwo[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-style:normal;line-height:60px;text-align:center;font-weight:900;font-size:45px;background:linear-gradient(to left,#05bff3,#004acd);-webkit-background-clip:text;color:transparent;animation:_ngcontent-%COMP%_animationmain;animation-duration:.8s;animation-timing-function:cubic-bezier(.165,.84,.44,1)}@keyframes _ngcontent-%COMP%_animationmain{0%{transform:translateY(-50px);opacity:0}to{transform:translateY(0);opacity:1}}.titleThree[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-style:normal;line-height:60px;text-align:center;font-weight:900;font-size:45px;background:linear-gradient(#c0bfbf,#fff);-webkit-background-clip:text;color:transparent;animation:_ngcontent-%COMP%_animationmain;animation-duration:.8s;animation-timing-function:cubic-bezier(.25,.46,.45,.94)}.textmain[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;margin-top:1.5rem;font-weight:500;color:#fff;text-align:center}.tarjet2[_ngcontent-%COMP%]{margin-top:1rem;background:#00c089;padding:1rem;border-radius:2rem;overflow:hidden;position:relative;box-shadow:10px 14px 20px #101010}.letrah1[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-style:normal;line-height:60px;text-align:center;font-weight:900;font-size:45px;background:linear-gradient(#c0bfbf,#191818);-webkit-background-clip:text}.textmain2[_ngcontent-%COMP%]{font-size:27px;color:#fff}.icon-text[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:27px;margin-right:10px;color:#fff;line-height:2;vertical-align:middle}.ml-2[_ngcontent-%COMP%]{margin-left:3rem;margin-top:1rem}.vi\\f1 etaletra[_ngcontent-%COMP%]{font-size:18px;color:#fff;margin-left:50px}.btnSubscription[_ngcontent-%COMP%]{margin-top:1.5rem;--background: linear-gradient(to right, #05bff3, #004acd);--box-shadow: 3px 3px 3px #6c6a6a}.btnSubscription[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Readex Pro,sans-serif;font-weight:600}.cont-button[_ngcontent-%COMP%]{display:flex;align-items:start;justify-content:center;margin-top:1rem}.imgprinc[_ngcontent-%COMP%]{border-radius:2rem;box-shadow:3px 3px 3px 3px #004acd}.glow[_ngcontent-%COMP%]:before, .glow[_ngcontent-%COMP%]:after{content:"";position:absolute;border-radius:2rem;left:-2px;top:-2px;background:linear-gradient(-45deg,#0f6,#0ff,#f0f,#f09,#099fff);background-size:400%;height:calc(100% + 5px);width:calc(100% + 5px);z-index:-1;animation:_ngcontent-%COMP%_change 40s linear infinite}@keyframes _ngcontent-%COMP%_change{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}.glow[_ngcontent-%COMP%]:after{filter:blur(20px);opacity:1}.menusection[_ngcontent-%COMP%]{background:#eee;margin-top:3rem;text-align:center;margin-bottom:3rem;padding:3rem;font-family:Readex Pro,sans-serif}.menusection[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:900}.menusection[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#004acd}@media (max-width: 576px){.titleThree[_ngcontent-%COMP%], .titleTwo[_ngcontent-%COMP%]{font-size:25px;line-height:35px}}.text[_ngcontent-%COMP%]{text-align:justify;word-wrap:break-word;padding:15px;font-size:14px;line-height:1.5}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:27px;justify-content:center;margin-top:2rem}.target[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;width:50%;max-width:400px;min-width:300px;margin:10px;box-sizing:border-box;background-color:#fff;border-radius:8px;overflow:hidden;box-shadow:0 4px 8px #0000001a}.contimg[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.contimg[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;max-width:300px;margin-bottom:15px}.btntarget[_ngcontent-%COMP%]{margin-top:15px;width:100%}.btntarget[color=success][_ngcontent-%COMP%]{--background: #28a745;--background-activated: #218838;--background-hover: #218838;--color: white}ion-icon[_ngcontent-%COMP%]{margin-left:8px}.ion-icon[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:5px}@keyframes _ngcontent-%COMP%_fly-to-cart{0%{opacity:1;transform:translate(0) scale(1)}50%{opacity:.7;transform:translate(calc(50vw - 50%),-50px) scale(.5)}to{opacity:0;transform:translate(calc(90vw - 20px),-70vh) scale(.2)}}.fly[_ngcontent-%COMP%]{position:absolute;z-index:1000;animation:_ngcontent-%COMP%_fly-to-cart 1s ease-in-out;pointer-events:none}']}),a})()}];let T=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[P.iI.forChild(R),P.iI]}),a})();var I=i(7383);let j=(()=>{var e;class a{}return(e=a).\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.$C({type:e}),e.\u0275inj=t.G2t({imports:[u.MD,p.YN,c.bv,T,I.G]}),a})()}}]);