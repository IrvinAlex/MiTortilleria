"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[386],{386:(pe,M,p)=>{p.r(M),p.d(M,{PedidosPageModule:()=>se});var g=p(177),_=p(9417),c=p(5933),k=p(8265),u=p(467),e=p(4438),F=p(8663),P=p(2723),w=p(421),f=p(9969),I=(p(4511),p(1876)),T=p(7157),x=p(8461);const O=["sliderButton"],E=["mapContainer"];function D(t,s){if(1&t&&(e.j41(0,"p"),e.nrm(1,"ion-icon",19),e.EFF(2),e.nI1(3,"date"),e.k0s()),2&t){const i=e.XpG();e.R7$(2),e.SpI(" Fecha de entrega: ",e.i5U(3,1,null==i.pedido.fecha?null:i.pedido.fecha.toDate(),"dd/MM/yyyy HH:mm"),"")}}function j(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-button",28),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.loadMapPreview())}),e.nrm(1,"ion-icon",29),e.EFF(2," Ver mapa "),e.k0s()}}function R(t,s){1&t&&e.nrm(0,"div",34,0)}function A(t,s){1&t&&(e.j41(0,"div",35),e.nrm(1,"ion-spinner",36),e.j41(2,"p"),e.EFF(3,"Cargando mapa..."),e.k0s()())}function $(t,s){if(1&t){const i=e.RV6();e.j41(0,"div",37),e.nrm(1,"ion-icon",38),e.j41(2,"p"),e.EFF(3,"No se pudo cargar el mapa"),e.k0s(),e.j41(4,"ion-button",39),e.bIt("click",function(){e.eBV(i);const o=e.XpG(3);return e.Njj(o.openLocationInMaps())}),e.EFF(5," Ver en Google Maps "),e.k0s()()}}function S(t,s){if(1&t&&(e.j41(0,"div",30),e.DNE(1,R,2,0,"div",31)(2,A,4,0,"div",32)(3,$,6,0,"div",33),e.k0s()),2&t){const i=e.XpG(2);e.R7$(),e.Y8G("ngIf",!i.mapLoadError),e.R7$(),e.Y8G("ngIf",i.showMapPreview&&!i.isMapReady&&!i.mapLoadError),e.R7$(),e.Y8G("ngIf",i.mapLoadError)}}function G(t,s){if(1&t){const i=e.RV6();e.j41(0,"div",4)(1,"h3",12),e.nrm(2,"ion-icon",20),e.EFF(3," Ubicaci\xf3n de Entrega "),e.k0s(),e.j41(4,"div",21),e.DNE(5,j,3,0,"ion-button",22),e.j41(6,"ion-button",23),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.openLocationInMaps())}),e.nrm(7,"ion-icon",24),e.EFF(8," Abrir en Maps "),e.k0s()(),e.DNE(9,S,4,3,"div",25),e.j41(10,"div",26)(11,"p"),e.nrm(12,"ion-icon",27),e.EFF(13),e.nI1(14,"number"),e.nI1(15,"number"),e.k0s()()()}if(2&t){const i=e.XpG();e.R7$(5),e.Y8G("ngIf",!i.showMapPreview),e.R7$(4),e.Y8G("ngIf",i.showMapPreview),e.R7$(4),e.Lme(" Coordenadas: ",e.i5U(14,4,i.pedido.geopoint_entrega.latitude,"1.6-6"),", ",e.i5U(15,7,i.pedido.geopoint_entrega.longitude,"1.6-6")," ")}}function z(t,s){1&t&&(e.j41(0,"div",4)(1,"h3",12),e.nrm(2,"ion-icon",40),e.EFF(3," Recolecci\xf3n en Negocio "),e.k0s(),e.j41(4,"div",41)(5,"p"),e.nrm(6,"ion-icon",42),e.EFF(7," Direcci\xf3n: Tortiller\xeda Plata Jaimes"),e.k0s(),e.j41(8,"p"),e.nrm(9,"ion-icon",43),e.EFF(10," Horario de atenci\xf3n: 8:00 AM - 8:00 PM"),e.k0s(),e.j41(11,"p"),e.nrm(12,"ion-icon",44),e.EFF(13," Tel\xe9fono: (555) 123-4567"),e.k0s()()())}function N(t,s){if(1&t&&(e.j41(0,"p"),e.EFF(1,"Tama\xf1o de tortilla: "),e.j41(2,"span",47),e.EFF(3),e.k0s()()),2&t){const i=e.XpG().$implicit;e.R7$(3),e.JRh(i.tamano_tortilla)}}function Y(t,s){if(1&t&&(e.j41(0,"ion-item")(1,"ion-avatar",45),e.nrm(2,"img",46),e.k0s(),e.j41(3,"ion-label")(4,"h2"),e.EFF(5),e.k0s(),e.DNE(6,N,4,1,"p",8),e.j41(7,"p"),e.EFF(8),e.k0s(),e.j41(9,"p"),e.EFF(10,"Subtotal: "),e.j41(11,"span",47),e.EFF(12),e.nI1(13,"currency"),e.k0s()()(),e.j41(14,"ion-badge",48),e.nrm(15,"ion-icon",49),e.EFF(16),e.k0s()()),2&t){const i=s.$implicit;e.R7$(2),e.FS9("alt",i.producto.nombre),e.Y8G("src",i.producto.imagen,e.B4B),e.R7$(3),e.JRh(i.producto.nombre),e.R7$(),e.Y8G("ngIf",i.tamano_tortilla),e.R7$(2),e.SpI("Cantidad: ",i.cantidad,""),e.R7$(4),e.JRh(e.bMT(13,7,i.subtotal)),e.R7$(4),e.SpI(" ",i.cantidad," ")}}function X(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-button",58),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.cancelAutoAssign())}),e.nrm(1,"ion-icon",59),e.EFF(2," Cancelar asignaci\xf3n "),e.k0s()}}function V(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-button",60),e.bIt("click",function(){e.eBV(i);const o=e.XpG(2);return e.Njj(o.restartAutoAssign())}),e.nrm(1,"ion-icon",61),e.EFF(2," Reiniciar asignaci\xf3n autom\xe1tica "),e.k0s()}}function B(t,s){if(1&t&&(e.j41(0,"div",50)(1,"div",51),e.nrm(2,"ion-icon",52),e.j41(3,"div")(4,"h4"),e.EFF(5,"Asignaci\xf3n autom\xe1tica en:"),e.k0s(),e.j41(6,"div",53),e.EFF(7),e.k0s(),e.j41(8,"p"),e.EFF(9,"Se asignar\xe1: Preparando tu pedido \u2022 Tiempo: 3-5 min"),e.k0s()()(),e.nrm(10,"ion-progress-bar",54),e.j41(11,"div",55),e.DNE(12,X,3,0,"ion-button",56)(13,V,3,0,"ion-button",57),e.k0s()()),2&t){const i=e.XpG();e.R7$(7),e.JRh(i.countdown),e.R7$(3),e.Y8G("value",i.autoAssignProgress/100),e.R7$(2),e.Y8G("ngIf",i.isAutoAssigning),e.R7$(),e.Y8G("ngIf",!i.isAutoAssigning)}}function U(t,s){1&t&&(e.j41(0,"div",67),e.nrm(1,"ion-icon",68),e.j41(2,"p"),e.EFF(3,"Pedido en preparaci\xf3n"),e.k0s()())}function J(t,s){if(1&t){const i=e.RV6();e.j41(0,"div",62)(1,"ion-label"),e.EFF(2,"Desliza para asignar en preparaci\xf3n"),e.k0s(),e.j41(3,"ion-range",63),e.mxI("ngModelChange",function(o){e.eBV(i);const r=e.XpG();return e.DH7(r.sliderValue,o)||(r.sliderValue=o),e.Njj(o)}),e.bIt("ionChange",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.onSliderChange())}),e.nrm(4,"ion-icon",64)(5,"ion-icon",65),e.k0s(),e.DNE(6,U,4,0,"div",66),e.k0s()}if(2&t){const i=e.XpG();e.R7$(3),e.R50("ngModel",i.sliderValue),e.R7$(3),e.Y8G("ngIf",i.showAnimation)}}let H=(()=>{var t;class s{constructor(n){this.platform=n,this.sliderValue=0,this.showAnimation=!1,this.firebaseSvc=(0,e.WQX)(F.f),this.utilSvc=(0,e.WQX)(P.T),this.emailSvc=(0,e.WQX)(I._),this.utilsSvc=(0,e.WQX)(P.T),this.isMapReady=!1,this.businessLocation=null,this.mapLoadError=!1,this.showMapPreview=!1,this.countdownStart=5,this.countdown=5,this.autoAssignInterval=null,this.isAutoAssigning=!1,this.autoAssignProgress=0}ngOnInit(){var n,o;"domicilio"===(null===(n=this.pedido.tipo_entrega)||void 0===n?void 0:n.toLowerCase())&&this.loadBusinessLocation(),"pedido confirmado"===(null===(o=this.pedido)||void 0===o||null===(o=o.estatus)||void 0===o?void 0:o.toLowerCase())&&this.restartAutoAssign()}ngAfterViewInit(){}ngOnDestroy(){this.clearAutoAssignTimer()}loadBusinessLocation(){var n=this;return(0,u.A)(function*(){try{n.firebaseSvc.getCollectionData("direccionNegocio").subscribe(o=>{o&&o.length>0&&(n.businessLocation=o[0])})}catch(o){console.error("Error loading business location:",o)}})()}loadMapPreview(){var n=this;return(0,u.A)(function*(){n.showMapPreview||!n.pedido.geopoint_entrega||(n.showMapPreview=!0,setTimeout(()=>{n.loadLeafletMap()},100))})()}loadLeafletMap(){var n;if(null!==(n=this.mapContainer)&&void 0!==n&&n.nativeElement&&this.pedido.geopoint_entrega)try{this.loadLeafletAssets().then(()=>{this.initializeLeafletMap()}).catch(o=>{console.error("Error loading Leaflet:",o),this.mapLoadError=!0})}catch(o){console.error("Error initializing map:",o),this.mapLoadError=!0}else this.mapLoadError=!0}loadLeafletAssets(){return new Promise((n,o)=>{if(typeof L<"u")return void n();const r=document.createElement("link");r.rel="stylesheet",r.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(r);const a=document.createElement("script");a.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",a.onload=()=>n(),a.onerror=()=>o(new Error("Failed to load Leaflet")),document.head.appendChild(a)})}initializeLeafletMap(){try{var n;const o=[this.pedido.geopoint_entrega.latitude,this.pedido.geopoint_entrega.longitude];this.map=L.map(this.mapContainer.nativeElement,{center:o,zoom:15,zoomControl:!0,attributionControl:!1}),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:"\xa9 OpenStreetMap contributors"}).addTo(this.map);const r=L.divIcon({html:'<ion-icon name="home" style="color: #3880ff; font-size: 24px;"></ion-icon>',iconSize:[30,30],iconAnchor:[15,15],className:"custom-div-icon"});if(L.marker(o,{icon:r}).addTo(this.map).bindPopup("Direcci\xf3n de entrega"),null!==(n=this.businessLocation)&&void 0!==n&&n.geopoint){const a=[this.businessLocation.geopoint.latitude,this.businessLocation.geopoint.longitude],l=L.divIcon({html:'<ion-icon name="storefront" style="color: #10dc60; font-size: 24px;"></ion-icon>',iconSize:[30,30],iconAnchor:[15,15],className:"custom-div-icon"});L.marker(a,{icon:l}).addTo(this.map).bindPopup("Tortiller\xeda Plata Jaimes");const m=L.featureGroup([L.marker(o),L.marker(a)]);this.map.fitBounds(m.getBounds().pad(.1))}setTimeout(()=>{this.map.invalidateSize(),this.isMapReady=!0},200)}catch(o){console.error("Error initializing Leaflet map:",o),this.mapLoadError=!0}}openLocationInMaps(){if(!this.pedido.geopoint_entrega)return;const r=`https://www.google.com/maps?q=${this.pedido.geopoint_entrega.latitude},${this.pedido.geopoint_entrega.longitude}`;this.platform.is("capacitor")?window.open(r,"_system"):window.open(r,"_blank")}getDeliveryTypeIcon(){var n;return"domicilio"===(null===(n=this.pedido.tipo_entrega)||void 0===n?void 0:n.toLowerCase())?"home-outline":"storefront-outline"}getDeliveryTypeColor(){var n;return"domicilio"===(null===(n=this.pedido.tipo_entrega)||void 0===n?void 0:n.toLowerCase())?"primary":"success"}isHomeDelivery(){var n;return"domicilio"===(null===(n=this.pedido.tipo_entrega)||void 0===n?void 0:n.toLowerCase())}sendStatusUpdateEmail(n){var o=this;return(0,u.A)(function*(){try{const r=yield o.firebaseSvc.getDocument(`users/${o.pedido.uid_cliente}`),a={orderId:n,customerEmail:r.email,customerName:r.name||r.email,fecha:o.pedido.fecha.toDate?o.pedido.fecha.toDate():new Date(o.pedido.fecha),estatus:"En preparaci\xf3n",tipo_pago:o.pedido.tipo_pago,items:o.pedido.detalle_pedido,subtotal:o.pedido.total,discountAmount:0,discountPercent:0,transportFee:0,total:o.pedido.total};yield o.emailSvc.sendStatusUpdateEmail(a),console.log("Email de actualizaci\xf3n de estatus enviado exitosamente")}catch(r){console.error("Error al enviar email de actualizaci\xf3n:",r)}})()}onSliderChange(){var n=this;return(0,u.A)(function*(){100===n.sliderValue&&(n.clearAutoAssignTimer(),n.isAutoAssigning=!1,yield n.assignOrderAndNotify("manual"))})()}restartAutoAssign(){this.clearAutoAssignTimer(),this.countdown=this.countdownStart,this.autoAssignProgress=0,this.isAutoAssigning=!0;const n=this.countdownStart;this.autoAssignInterval=setInterval(()=>{this.countdown=Math.max(0,this.countdown-1),this.autoAssignProgress=Math.min(100,Math.round((n-this.countdown)/n*100)),this.countdown<=0&&(this.clearAutoAssignTimer(),this.assignOrderAndNotify("auto"))},1e3)}cancelAutoAssign(){this.clearAutoAssignTimer(),this.isAutoAssigning=!1}clearAutoAssignTimer(){this.autoAssignInterval&&(clearInterval(this.autoAssignInterval),this.autoAssignInterval=null)}sendRealtimeNotification(){var n=this;return(0,u.A)(function*(){try{const o=yield n.firebaseSvc.getDocument(`users/${n.pedido.uid_cliente}`),r=(null==o?void 0:o.fcmToken)||(null==o?void 0:o.pushToken)||(null==o?void 0:o.token)||null,a={uid:n.pedido.uid_cliente,orderId:n.pedido.id,title:"Pedido en preparaci\xf3n",body:"Tu pedido est\xe1 siendo preparado. Te avisaremos cuando est\xe9 listo.",status:"En preparaci\xf3n",token:r,createdAt:new Date,type:"ORDER_STATUS"},l=n.firebaseSvc;"function"==typeof l.sendPushNotification&&r?yield l.sendPushNotification(r,a.title,a.body,{orderId:n.pedido.id,status:"En preparaci\xf3n"}):"function"==typeof l.addDocument?yield l.addDocument("notificaciones",a):"function"==typeof l.createDocument?yield l.createDocument("notificaciones",a):console.warn("No push method available; notification enqueued skipped")}catch(o){console.error("Error enviando notificaci\xf3n en tiempo real:",o)}})()}assignOrderAndNotify(n){var o=this;return(0,u.A)(function*(){const r=yield o.utilsSvc.loading();yield r.present(),o.showAnimation=!0,o.firebaseSvc.updateDocumet(`pedidos/${o.pedido.id}`,{estatus:"En preparaci\xf3n"}).then((0,u.A)(function*(){yield o.sendStatusUpdateEmail(o.pedido.id),yield o.sendRealtimeNotification(),setTimeout(()=>{o.showAnimation=!1,o.sliderValue=0,o.pedido.estatus="En preparaci\xf3n",o.utilsSvc.dismissModal({success:!0,source:n})},1200)})).catch(l=>{o.utilSvc.presentToast({message:l.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"}),o.isAutoAssigning=!1}).finally(()=>{r.dismiss()})})()}getColorIcon(n){switch(n.toLowerCase()){case"cancelado":return"danger";case"entregado":return"primary";default:return"dark"}}getStatusIcon(n){switch(n.toLowerCase()){case"pedido confirmado":return"bag-check-outline";case"en preparaci\xf3n":return"refresh-circle-outline";case"en espera de recolecci\xf3n":return"time-outline";case"entregado":return"checkmark-done-outline";case"cancelado":return"close-circle-outline";default:return"help-circle-outline"}}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(T.OD))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-pedido-modal"]],viewQuery:function(n,o){if(1&n&&(e.GBs(O,5),e.GBs(E,5)),2&n){let r;e.mGM(r=e.lsd())&&(o.sliderButton=r.first),e.mGM(r=e.lsd())&&(o.mapContainer=r.first)}},inputs:{pedido:"pedido"},decls:42,vars:26,consts:[["mapContainer",""],["title","Detalles del pedido",3,"isModal","showNombre","showLogo"],[1,"ticket-container"],[1,"ticket-title"],[1,"ticket-section"],["name","storefront-outline"],["name","person-outline"],["name","calendar-outline"],[4,"ngIf"],[3,"name","color"],["mode","ios",3,"color"],["class","ticket-section",4,"ngIf"],[1,"ticket-subtitle"],[4,"ngFor","ngForOf"],["name","cash-outline"],["name","card-outline"],["slot","start",2,"margin-left","0.5rem",3,"color","name"],["class","auto-assign-card",4,"ngIf"],["class","assign-slider-container",4,"ngIf"],["slot","start","name","calendar-outline"],["name","map-outline","color","primary"],[1,"map-controls"],["fill","outline","size","small","class","map-preview-btn",3,"click",4,"ngIf"],["fill","outline","size","small",1,"external-maps-btn",3,"click"],["name","navigate-outline","slot","start"],["class","map-container",4,"ngIf"],[1,"delivery-info"],["name","location-outline","color","primary"],["fill","outline","size","small",1,"map-preview-btn",3,"click"],["name","map-outline","slot","start"],[1,"map-container"],["class","map-canvas",4,"ngIf"],["class","map-loading",4,"ngIf"],["class","map-error",4,"ngIf"],[1,"map-canvas"],[1,"map-loading"],["name","circles"],[1,"map-error"],["name","warning-outline","color","warning"],["size","small","fill","clear",3,"click"],["name","storefront-outline","color","success"],[1,"pickup-info"],["name","location-outline"],["name","time-outline"],["name","call-outline"],["slot","start",1,"avatar-icon"],[3,"src","alt"],[1,"subtotal"],["slot","end","color","tertiary"],["name","cube-outline"],[1,"auto-assign-card"],[1,"auto-assign-header"],["name","alarm-outline","color","warning"],[1,"auto-assign-timer"],[3,"value"],[1,"auto-assign-actions"],["size","small","color","danger",3,"click",4,"ngIf"],["size","small","color","success","fill","outline",3,"click",4,"ngIf"],["size","small","color","danger",3,"click"],["name","close-circle-outline","slot","start"],["size","small","color","success","fill","outline",3,"click"],["name","refresh-outline","slot","start"],[1,"assign-slider-container"],["min","0","max","100","step","1","pin","false","color","primary",1,"assign-slider",3,"ngModelChange","ionChange","ngModel"],["slot","start","name","arrow-forward","color","primary"],["slot","end","name","checkmark-circle","color","primary"],["class","success-animation",4,"ngIf"],[1,"success-animation"],["name","checkmark-circle","color","primary"]],template:function(n,o){1&n&&(e.nrm(0,"app-header",1),e.j41(1,"ion-content")(2,"div",2)(3,"h2",3),e.EFF(4,"Ticket de Pedido"),e.k0s(),e.j41(5,"div",4)(6,"p"),e.nrm(7,"ion-icon",5),e.EFF(8," Nombre del negocio: Tortilleria Plata Jaimes"),e.k0s(),e.j41(9,"p"),e.nrm(10,"ion-icon",6),e.EFF(11),e.k0s(),e.j41(12,"p"),e.nrm(13,"ion-icon",7),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.DNE(16,D,4,4,"p",8),e.j41(17,"p"),e.nrm(18,"ion-icon",9),e.EFF(19," Tipo de entrega: "),e.j41(20,"ion-chip",10)(21,"ion-label"),e.EFF(22),e.k0s()()()(),e.DNE(23,G,16,10,"div",11)(24,z,14,0,"div",11),e.j41(25,"h3",12),e.EFF(26,"Productos Comprados"),e.k0s(),e.j41(27,"ion-list"),e.DNE(28,Y,17,9,"ion-item",13),e.k0s(),e.j41(29,"div",4)(30,"p"),e.nrm(31,"ion-icon",14),e.EFF(32),e.nI1(33,"number"),e.k0s(),e.j41(34,"p"),e.nrm(35,"ion-icon",15),e.EFF(36),e.k0s(),e.j41(37,"p"),e.EFF(38),e.nrm(39,"ion-icon",16),e.k0s()(),e.DNE(40,B,14,4,"div",17)(41,J,7,2,"div",18),e.k0s()()),2&n&&(e.Y8G("isModal",!0)("showNombre",!1)("showLogo",!1),e.R7$(11),e.SpI(" Cliente: ",o.pedido.nombre_cliente,""),e.R7$(3),e.SpI(" Fecha: ",e.i5U(15,20,null==o.pedido.fecha?null:o.pedido.fecha.toDate(),"dd/MM/yyyy"),""),e.R7$(2),e.Y8G("ngIf","en espera de recolecci\xf3n"===o.pedido.estatus.toLowerCase()),e.R7$(2),e.Y8G("name",o.getDeliveryTypeIcon())("color",o.getDeliveryTypeColor()),e.R7$(2),e.Y8G("color",o.getDeliveryTypeColor()),e.R7$(2),e.JRh(o.pedido.tipo_entrega||"Negocio"),e.R7$(),e.Y8G("ngIf",o.isHomeDelivery()&&o.pedido.geopoint_entrega),e.R7$(),e.Y8G("ngIf",!o.pedido.tipo_entrega),e.R7$(4),e.Y8G("ngForOf",o.pedido.detalle_pedido),e.R7$(4),e.SpI(" Total: ",e.i5U(33,23,o.pedido.total,"1.2-2"),""),e.R7$(4),e.SpI(" Tipo de Pago: ",o.pedido.tipo_pago,""),e.R7$(2),e.SpI("Estatus: ",o.pedido.estatus," "),e.R7$(),e.Y8G("color",o.getColorIcon(o.pedido.estatus))("name",o.getStatusIcon(o.pedido.estatus)),e.R7$(),e.Y8G("ngIf","pedido confirmado"===o.pedido.estatus.toLowerCase()),e.R7$(),e.Y8G("ngIf","pedido confirmado"===o.pedido.estatus.toLowerCase()))},dependencies:[g.Sq,g.bT,c.mC,c.In,c.Jm,c.ZB,c.W9,c.iq,c.uz,c.he,c.nf,c.FH,c.Ob,c.w2,c.Gw,_.BC,_.vS,x.l,g.QX,g.oe,g.vh],styles:['@charset "UTF-8";.ticket-container[_ngcontent-%COMP%]{padding:16px;background-color:#f7f7f7;border-radius:8px;margin:20px;box-shadow:0 4px 8px #0003}.ticket-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;text-align:center;color:#333;margin-bottom:1rem}.ticket-section[_ngcontent-%COMP%]{background-color:#fff;padding:12px;border-radius:8px;margin-bottom:1rem;box-shadow:0 2px 6px #0000001a}.ticket-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#444;margin:.5rem 0;display:flex;align-items:center}.ticket-section[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px}.ticket-subtitle[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-top:1rem;margin-bottom:.5rem;color:#666}.product-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{background-color:#fafafa;border-radius:6px;margin:4px 0;box-shadow:0 1px 3px #0000001a}.product-list[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:1rem;color:#555}.ticket-section[_ngcontent-%COMP%]   .success[_ngcontent-%COMP%]{color:#28a745}ion-content[_ngcontent-%COMP%]{--ion-background-color: #e9ecef}.assign-slider-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding-top:50px;text-align:center}.assign-slider[_ngcontent-%COMP%]{width:80%;--knob-size: 36px;--bar-height: 24px;--knob-background: var(--ion-color-primary);--bar-background-active: var(--ion-color-primary);--bar-background: #ddd;--bar-border-radius: 50px}.success-animation[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-top:20px;animation:_ngcontent-%COMP%_fadeInScale .5s ease forwards}.success-animation[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:50px;color:var(--ion-color-primary);animation:_ngcontent-%COMP%_scaleUp .5s ease forwards}.success-animation[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;color:var(--ion-color-primary);margin-top:8px}@keyframes _ngcontent-%COMP%_fadeInScale{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_scaleUp{0%{transform:scale(.5)}to{transform:scale(1)}}ion-item[_ngcontent-%COMP%]{--inner-padding-start: 10px;border-bottom:1px solid var(--ion-color-light)}.avatar-icon[_ngcontent-%COMP%]{background-color:var(--ion-color-light);display:flex;align-items:center;justify-content:center;border-radius:50%;height:40px;width:40px}.avatar-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:700;font-size:16px;margin:0;color:var(--ion-color-dark)}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--ion-color-medium)}.subtotal[_ngcontent-%COMP%]{font-weight:700;color:var(--ion-color-success)}ion-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;padding:5px;border-radius:10px;font-size:14px}.map-controls[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-bottom:1rem;flex-wrap:wrap}.map-preview-btn[_ngcontent-%COMP%], .external-maps-btn[_ngcontent-%COMP%]{--border-width: 1px;--border-style: solid;--border-color: var(--ion-color-primary);height:32px}.map-container[_ngcontent-%COMP%]{position:relative;width:100%;height:250px;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000026;margin:1rem 0;border:1px solid #e0e0e0}.map-canvas[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:8px}.map-loading[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#f8f9fa;color:#6c757d;border-radius:8px}.map-loading[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{margin-bottom:1rem;--color: var(--ion-color-primary)}.map-error[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:#fff8e1;color:#f57c00;border-radius:8px;text-align:center}.map-error[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:.5rem}.map-error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;font-size:.9rem}.delivery-info[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:.75rem;border-radius:6px;margin-top:.5rem;border-left:3px solid var(--ion-color-primary)}.delivery-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:.9rem;color:#666;display:flex;align-items:center}.delivery-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:.5rem}.pickup-info[_ngcontent-%COMP%]{background-color:#f0f8f0;padding:1rem;border-radius:8px;border-left:4px solid var(--ion-color-success)}.pickup-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0;display:flex;align-items:center;font-size:.95rem}.pickup-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:.75rem;color:var(--ion-color-success)}[_ngcontent-%COMP%]:global(.custom-div-icon){background:#fff;border:2px solid #ddd;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 6px #0003}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{height:200px;margin:.75rem 0}.map-controls[_ngcontent-%COMP%]{flex-direction:column;gap:.25rem}.map-preview-btn[_ngcontent-%COMP%], .external-maps-btn[_ngcontent-%COMP%]{width:100%;justify-content:flex-start}.delivery-info[_ngcontent-%COMP%]{padding:.5rem;font-size:.85rem}}@media (max-width: 480px){.map-container[_ngcontent-%COMP%]{height:180px}.ticket-container[_ngcontent-%COMP%]{margin:10px;padding:12px}}.auto-assign-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:12px;margin:0 0 1rem;border:1px solid #e7e7e7;box-shadow:0 2px 6px #0000000f}.auto-assign-header[_ngcontent-%COMP%]{display:flex;gap:.75rem;align-items:center;margin-bottom:.5rem}.auto-assign-header[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.auto-assign-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#555}.auto-assign-header[_ngcontent-%COMP%]   .auto-assign-timer[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:var(--ion-color-warning);line-height:1.2}.auto-assign-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0 0;color:#6c757d;font-size:.9rem}.auto-assign-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem;flex-wrap:wrap}ion-progress-bar[_ngcontent-%COMP%]{--progress-background: var(--ion-color-warning);margin-top:.25rem}'],data:{animation:[(0,f.hZ)("slideButton",[(0,f.wk)("start",(0,f.iF)({transform:"translateX(0)"})),(0,f.wk)("end",(0,f.iF)({transform:"translateX(100%)"})),(0,f.kY)("start => end",(0,f.i0)("0.3s ease-out")),(0,f.kY)("end => start",(0,f.i0)("0.3s ease-in"))])]}}),s})();const Q=()=>[1,1,1,1,1,1,1,1];function W(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-button",8),e.bIt("click",function(){e.eBV(i);const o=e.XpG();return e.Njj(o.clearFilters())}),e.EFF(1," Quitar Filtros "),e.nrm(2,"ion-icon",4),e.k0s()}}function Z(t,s){if(1&t&&(e.j41(0,"div",13)(1,"strong"),e.nrm(2,"ion-icon",24),e.EFF(3),e.nI1(4,"date"),e.k0s()()),2&t){const i=e.XpG().$implicit;e.R7$(3),e.SpI(" Fecha de entrega: ",e.i5U(4,1,null==i.fecha_entrega?null:i.fecha_entrega.toDate(),"dd/MM/yyyy HH:mm"),"")}}function K(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-item-option",25),e.bIt("click",function(){e.eBV(i);const o=e.XpG().$implicit,r=e.XpG(2);return e.Njj(r.cancelarPedido(o))}),e.nrm(1,"ion-icon",26),e.EFF(2," Cancelar "),e.k0s()}}function q(t,s){if(1&t){const i=e.RV6();e.j41(0,"ion-list")(1,"ion-item-sliding",10)(2,"ion-item")(3,"ion-label")(4,"div",11)(5,"h2"),e.nrm(6,"ion-icon",12),e.EFF(7),e.nI1(8,"number"),e.k0s()(),e.j41(9,"div",13)(10,"strong"),e.nrm(11,"ion-icon",14),e.EFF(12),e.k0s(),e.j41(13,"strong",15),e.nrm(14,"ion-icon",16),e.EFF(15),e.k0s()(),e.j41(16,"div",13)(17,"strong"),e.nrm(18,"ion-icon",16),e.EFF(19),e.k0s()(),e.DNE(20,Z,5,4,"div",17),e.j41(21,"ion-chip",18)(22,"ion-label"),e.EFF(23),e.k0s()(),e.j41(24,"ion-chip",19),e.nrm(25,"ion-icon",20),e.j41(26,"ion-label"),e.EFF(27),e.k0s()()()(),e.j41(28,"ion-item-options")(29,"ion-item-option",21),e.bIt("click",function(){const o=e.eBV(i).$implicit,r=e.XpG(2);return e.Njj(r.openPedidoDetalle(o))}),e.nrm(30,"ion-icon",22),e.EFF(31," Ver Detalle "),e.k0s(),e.DNE(32,K,3,0,"ion-item-option",23),e.k0s()()()}if(2&t){const i=s.$implicit,n=e.XpG(2);e.R7$(7),e.SpI(" $",e.i5U(8,14,i.total,"1.2-2")," "),e.R7$(5),e.SpI(" Cliente: ",i.nombre_cliente,""),e.R7$(2),e.Y8G("color",n.getColorIcon(i.estatus))("name",n.getStatusIcon(i.estatus)),e.R7$(),e.SpI(" ",n.getDisplayStatus(i)," "),e.R7$(3),e.Y8G("color",n.getDeliveryTypeColor(n.getEffectiveDeliveryType(i)))("name",n.getDeliveryTypeIcon(n.getEffectiveDeliveryType(i))),e.R7$(),e.SpI(" ",n.getEffectiveDeliveryType(i)," "),e.R7$(),e.Y8G("ngIf","en espera de recolecci\xf3n"===i.estatus.toLowerCase()),e.R7$(3),e.JRh(i.tipo_pago),e.R7$(),e.Y8G("color",n.getDeliveryTypeColor(n.getEffectiveDeliveryType(i))),e.R7$(),e.Y8G("name",n.getDeliveryTypeIcon(n.getEffectiveDeliveryType(i))),e.R7$(2),e.JRh(n.getEffectiveDeliveryType(i)),e.R7$(5),e.Y8G("ngIf","cancelado"!==i.estatus.toLowerCase()&&"entregado"!==i.estatus.toLowerCase())}}function ee(t,s){if(1&t&&(e.qex(0),e.DNE(1,q,33,17,"ion-list",9),e.bVm()),2&t){const i=e.XpG();e.R7$(),e.Y8G("ngForOf",i.pedidosFiltrados)}}function ne(t,s){1&t&&(e.j41(0,"ion-item",10)(1,"ion-avatar",28),e.nrm(2,"ion-skeleton-text",29),e.k0s(),e.j41(3,"ion-label")(4,"div"),e.nrm(5,"ion-skeleton-text",30),e.k0s(),e.j41(6,"div"),e.nrm(7,"ion-skeleton-text",31),e.k0s()()())}function oe(t,s){1&t&&(e.j41(0,"ion-list"),e.DNE(1,ne,8,0,"ion-item",27),e.k0s()),2&t&&(e.R7$(),e.Y8G("ngForOf",e.lJ4(1,Q)))}function te(t,s){1&t&&(e.j41(0,"div",32),e.nrm(1,"ion-icon",33),e.j41(2,"h3"),e.EFF(3,"No hay pedidos disponibles"),e.k0s()())}const ie=[{path:"",component:(()=>{var t;class s{constructor(n,o){this.modalCtrl=n,this.alertController=o,this.showModal=!1,this.isEditing=!1,this.pedidos=[],this.detalle_pedido=[],this.loading=!1,this.searchTerm="",this.filtersApplied=!1,this.pedidosFiltrados=[],this.utilsSvc=(0,e.WQX)(P.T),this.firebaseSvc=(0,e.WQX)(F.f),this.fecha=(new Date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}ngOnInit(){this.fecha=this.fecha.charAt(0).toUpperCase()+this.fecha.slice(1),this.getPedidos()}normalizeDateLike(n){if(!n)return null;if(null!=n&&n.toDate&&"function"==typeof n.toDate){const r=n.toDate();return new Date(r.getFullYear(),r.getMonth(),r.getDate())}if(null!=n&&n.seconds){const r=new Date(1e3*n.seconds);return new Date(r.getFullYear(),r.getMonth(),r.getDate())}const o=new Date(n);return isNaN(o.getTime())?null:new Date(o.getFullYear(),o.getMonth(),o.getDate())}isTodayDateLike(n){const o=this.normalizeDateLike(n);if(!o)return!1;const r=new Date,a=new Date(r.getFullYear(),r.getMonth(),r.getDate());return o.getTime()===a.getTime()}getPedidos(){var n=this;this.loading=!0;let r=this.firebaseSvc.getCollectionData("pedidos",[]).subscribe({next:a=>{if(Array.isArray(a)){this.pedidos=a;const l=this.pedidos.filter(d=>{var h;return this.isTodayDateLike(null!==(h=null==d?void 0:d.fecha_entrega)&&void 0!==h?h:null==d?void 0:d.fecha)}),m=l.map(d=>this.firebaseSvc.getDocument(`users/${d.uid_cliente}`).then(y=>(d.nombre_cliente=y.name+" "+y.mother_Last_Name+" "+y.father_Last_Name,this.firebaseSvc.getCollectionData(`pedidos/${d.id}/detalle_pedido`,[]).subscribe({next:C=>{d.detalle_pedido=C,d.detalle_pedido.forEach(function(){var le=(0,u.A)(function*(v){const de=`productos/${v.uid_producto}`;try{let b=yield n.firebaseSvc.getDocument(de);v.producto=b,v.producto.imagen=b.imagen}catch{}});return function(v){return le.apply(this,arguments)}}())},error:C=>console.error("Error al obtener datos:",C)}),d)));Promise.all(m).then(()=>{this.pedidosFiltrados=l,this.loading=!1}).catch(d=>{console.error("Error al procesar pedidos:",d),this.pedidosFiltrados=l,this.loading=!1})}else this.pedidos=[],this.pedidosFiltrados=[],this.loading=!1;r.unsubscribe()},error:a=>{console.error("Error al obtener pedidos:",a),this.loading=!1}})}closeModal(){this.showModal=!1}refreshOrders(){this.getPedidos()}openFilterModal(){var n=this;return(0,u.A)(function*(){const r=yield n.modalCtrl.create({component:w.w,componentProps:{estatus:!0}});yield r.present();const{data:a}=yield r.onDidDismiss();a&&n.applyFilter(a)})()}applyFilter(n){this.filtersApplied=!0;const o=l=>this.normalizeDateLike(l),r=n.fechaInicio?o(n.fechaInicio):null,a=n.fechaFin?o(n.fechaFin):null;this.pedidosFiltrados=this.pedidos.filter(l=>{var m;if(n.selectedStatus&&n.selectedStatus.length&&!n.selectedStatus.includes(l.estatus))return!1;const d=this.normalizeDateLike(null!==(m=null==l?void 0:l.fecha_entrega)&&void 0!==m?m:null==l?void 0:l.fecha);return!(r&&a&&(!d||d<r||d>a)||null!==n.precioMin&&null!==n.precioMax&&(l.total<n.precioMin||l.total>n.precioMax))})}clearFilters(){this.pedidosFiltrados=this.pedidos.filter(n=>{var o;return this.isTodayDateLike(null!==(o=null==n?void 0:n.fecha_entrega)&&void 0!==o?o:null==n?void 0:n.fecha)}),this.filtersApplied=!1}filterPedidos(){const n=(this.searchTerm||"").toLowerCase(),o=this.pedidos.filter(r=>{var a;return this.isTodayDateLike(null!==(a=null==r?void 0:r.fecha_entrega)&&void 0!==a?a:null==r?void 0:r.fecha)});this.pedidosFiltrados=o.filter(r=>(r.nombre_cliente||"").toLowerCase().includes(n)||(Number.isFinite(r.total)?r.total.toFixed(2):"").includes(n)||(r.id||"").toLowerCase().includes(n)||(r.estatus||"").toLowerCase().includes(n))}getStatusIcon(n){switch(n.toLowerCase()){case"pedido confirmado":return"bag-check-outline";case"en preparaci\xf3n":return"refresh-circle-outline";case"en espera de recolecci\xf3n":return"time-outline";case"entregado":return"checkmark-done-outline";case"cancelado":return"close-circle-outline";default:return"help-circle-outline"}}cancelarPedido(n){var o=this;return(0,u.A)(function*(){var a;yield(yield o.alertController.create({header:"Cancelar Pedido",mode:"ios",message:"\xbfRealmente deseas cancelar el pedido?",cssClass:"custom-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"alert-cancel",handler:()=>{}},{text:"Confirmar",cssClass:"alert-confirm",handler:(a=(0,u.A)(function*(){let l=`pedidos/${n.id}`;const m=yield o.utilsSvc.loading();yield m.present(),n.estatus="Cancelado",o.firebaseSvc.updateDocumet(l,{estatus:n.estatus}).then(function(){var d=(0,u.A)(function*(h){o.utilsSvc.presentToast({message:"Pedido cancelado",duration:2500,color:"primary",position:"bottom",icon:"refresh-circle-outline"})});return function(h){return d.apply(this,arguments)}}()).catch(d=>{o.utilsSvc.presentToast({message:d.message,duration:2500,color:"primary",position:"middle",icon:"alert-circle-outline"})}).finally(()=>{m.dismiss()})}),function(){return a.apply(this,arguments)})}],backdropDismiss:!1})).present()})()}getColorIcon(n){switch(n.toLowerCase()){case"cancelado":return"danger";case"entregado":return"primary";default:return"dark"}}openPedidoDetalle(n){var o=this;return(0,u.A)(function*(){(yield o.utilsSvc.presentModal({component:H,componentProps:{pedido:n}}))&&o.utilsSvc.presentToast({message:"Pedido en preparaci\xf3n",duration:2500,color:"primary",position:"bottom",icon:"refresh-circle-outline"}),o.filtersApplied=!1,o.getPedidos()})()}getDeliveryTypeIcon(n){switch(null==n?void 0:n.toLowerCase()){case"domicilio":return"home-outline";case"negocio":return"storefront-outline";default:return"location-outline"}}getDeliveryTypeColor(n){switch(null==n?void 0:n.toLowerCase()){case"domicilio":return"primary";case"negocio":return"success";default:return"medium"}}doRefresh(n){setTimeout(()=>{this.getPedidos(),n.target.complete()},1e3)}hasUbicacion(n){var o,r;if(!n)return!1;const a=null==n?void 0:n.geopoint_entrega,l=a&&"number"==typeof a.latitude&&"number"==typeof a.longitude&&!isNaN(a.latitude)&&!isNaN(a.longitude),m="number"==typeof(null==n?void 0:n.lat)&&"number"==typeof(null==n?void 0:n.lng)||"number"==typeof(null==n||null===(o=n.coordenadas)||void 0===o?void 0:o.lat)&&"number"==typeof(null==n||null===(r=n.coordenadas)||void 0===r?void 0:r.lng);return!(!l&&!m)}getEffectiveDeliveryType(n){return((null==n?void 0:n.tipo_entrega)||"").toLowerCase()&&this.hasUbicacion(n)?"domicilio":"negocio"}normalizeText(n=""){return String(n||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim()}getDisplayStatus(n){const o=n.estatus;return"domicilio"===this.getEffectiveDeliveryType(n)&&this.normalizeText(o).includes(this.normalizeText("En espera de recolecci\xf3n"))?"En proceso de entrega":o}}return(t=s).\u0275fac=function(n){return new(n||t)(e.rXU(c.W3),e.rXU(c.hG))},t.\u0275cmp=e.VBU({type:t,selectors:[["app-pedidos"]],decls:12,vars:6,consts:[["title","Pedidos",3,"showMenu"],["slot","fixed",3,"ionRefresh"],["mode","ios","animated","true","placeholder","Cliente, productos, precio o c\xf3digo",3,"ngModelChange","ionInput","ngModel"],["expand","block","color","primary",3,"click"],["name","filter-outline",2,"margin-left","0.5rem"],["expand","block","color","light",3,"click",4,"ngIf"],[4,"ngIf"],["class","empty",4,"ngIf"],["expand","block","color","light",3,"click"],[4,"ngFor","ngForOf"],[1,"product-item"],[1,"name"],["slot","start","color","danger","name","cash-outline",2,"margin-right","2rem"],[1,"data"],["slot","start","name","person-outline"],[2,"margin-left","3rem"],["slot","start",3,"color","name"],["class","data",4,"ngIf"],["color","primary","mode","ios","outline","true"],["mode","ios","outline","true",3,"color"],[3,"name"],["color","secondary",3,"click"],["name","eye-outline",1,"option-btn",2,"margin-right","0.5rem"],["color","danger",3,"click",4,"ngIf"],["slot","start","name","calendar-outline"],["color","danger",3,"click"],["name","close-circle-outline",1,"option-btn",2,"margin-right","0.5rem"],["class","product-item",4,"ngFor","ngForOf"],["slot","start"],["animated","",2,"width","100%","height","100%"],["animated","",2,"width","50%"],["animated","",2,"width","30%"],[1,"empty"],["name","shield-outline"]],template:function(n,o){1&n&&(e.nrm(0,"app-header",0),e.j41(1,"ion-content")(2,"ion-refresher",1),e.bIt("ionRefresh",function(a){return o.doRefresh(a)}),e.nrm(3,"ion-refresher-content"),e.k0s(),e.j41(4,"ion-searchbar",2),e.mxI("ngModelChange",function(a){return e.DH7(o.searchTerm,a)||(o.searchTerm=a),a}),e.bIt("ionInput",function(){return o.filterPedidos()}),e.k0s(),e.j41(5,"ion-button",3),e.bIt("click",function(){return o.openFilterModal()}),e.EFF(6,"Filtros "),e.nrm(7,"ion-icon",4),e.k0s(),e.DNE(8,W,3,0,"ion-button",5)(9,ee,2,1,"ng-container",6)(10,oe,2,2,"ion-list",6)(11,te,4,0,"div",7),e.k0s()),2&n&&(e.Y8G("showMenu",!0),e.R7$(4),e.R50("ngModel",o.searchTerm),e.R7$(4),e.Y8G("ngIf",o.filtersApplied),e.R7$(),e.Y8G("ngIf",o.pedidosFiltrados.length>0),e.R7$(),e.Y8G("ngIf",o.loading),e.R7$(),e.Y8G("ngIf",!o.loading&&!o.pedidosFiltrados.length))},dependencies:[g.Sq,g.bT,_.BC,_.vS,c.mC,c.Jm,c.ZB,c.W9,c.iq,c.uz,c.LU,c.CE,c.A7,c.he,c.nf,c.To,c.Ki,c.S1,c.ds,c.Gw,x.l,g.QX,g.vh],styles:['@charset "UTF-8";.fecha[_ngcontent-%COMP%]{font-weight:700;color:gray;margin-left:1rem}.empty-state-container[_ngcontent-%COMP%]{display:flex;margin-top:3rem;flex-direction:column;align-items:center;justify-content:center;height:100%;text-align:center;color:#7d7d7d}.empty-icon[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:1rem;color:#b0b0b0}.empty-title[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin:.5rem 0}.empty-message[_ngcontent-%COMP%]{font-size:1rem;color:#7a7a7a;margin-bottom:1.5rem;padding:0 2rem}.empty-action[_ngcontent-%COMP%]{--border-radius: 8px}.custom-alert[_ngcontent-%COMP%]{--background: #fff;--border-radius: 16px;--width: 90%;--min-height: 200px;--max-width: 500px;--color: #333;text-align:center}.custom-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_zoomIn .3s ease forwards}.custom-alert[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]{--border-radius: 12px;--padding-top: 12px;--padding-bottom: 12px;font-weight:700}.custom-alert[_ngcontent-%COMP%]   .alert-cancel[_ngcontent-%COMP%]{color:#999}.custom-alert[_ngcontent-%COMP%]   .alert-confirm[_ngcontent-%COMP%]{color:#fff;background-color:var(--ion-color-danger)}@keyframes _ngcontent-%COMP%_zoomIn{0%{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}']}),s})()}];let re=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[k.iI.forChild(ie),k.iI]}),s})();var ae=p(7383);let se=(()=>{var t;class s{}return(t=s).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.$C({type:t}),t.\u0275inj=e.G2t({imports:[g.MD,_.YN,c.bv,re,ae.G]}),s})()}}]);