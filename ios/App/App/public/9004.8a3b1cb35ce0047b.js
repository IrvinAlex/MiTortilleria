"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9004],{9004:(Z,M,f)=>{f.r(M),f.d(M,{PrecioViajePageModule:()=>H});var m=f(177),l=f(9417),r=f(5933),O=f(8265),g=f(467),n=f(4438),x=f(7517),h=f(2723),v=f(8461);const y=a=>[a,"MXN","symbol-narrow","1.2-2","en-US"];function T(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Campo requerido"),n.k0s())}function j(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Debe ser \u2265 0"),n.k0s())}function k(a,c){if(1&a&&(n.j41(0,"div"),n.DNE(1,T,2,0,"span",10)(2,j,2,0,"span",10),n.k0s()),2&a){const i=n.XpG();n.R7$(),n.Y8G("ngIf",null==i.form.controls.distancia_min.errors?null:i.form.controls.distancia_min.errors.required),n.R7$(),n.Y8G("ngIf",null==i.form.controls.distancia_min.errors?null:i.form.controls.distancia_min.errors.min)}}function F(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Campo requerido"),n.k0s())}function E(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Debe ser > 0"),n.k0s())}function I(a,c){if(1&a&&(n.j41(0,"div"),n.DNE(1,F,2,0,"span",10)(2,E,2,0,"span",10),n.k0s()),2&a){const i=n.XpG();n.R7$(),n.Y8G("ngIf",null==i.form.controls.distancia_max.errors?null:i.form.controls.distancia_max.errors.required),n.R7$(),n.Y8G("ngIf",null==i.form.controls.distancia_max.errors?null:i.form.controls.distancia_max.errors.min)}}function z(a,c){if(1&a&&(n.j41(0,"div",20)(1,"ion-chip",21),n.nrm(2,"ion-icon",22),n.j41(3,"ion-label"),n.EFF(4),n.k0s()()()),2&a){let i;const t=n.XpG();n.R7$(4),n.Lme("",null==(i=t.form.get("distancia_min"))?null:i.value," - ",null==(i=t.form.get("distancia_max"))?null:i.value," km")}}function R(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Campo requerido"),n.k0s())}function D(a,c){1&a&&(n.j41(0,"span"),n.EFF(1,"Debe ser > 0"),n.k0s())}function G(a,c){if(1&a&&(n.j41(0,"div"),n.DNE(1,R,2,0,"span",10)(2,D,2,0,"span",10),n.k0s()),2&a){const i=n.XpG();n.R7$(),n.Y8G("ngIf",null==i.form.controls.tarifa.errors?null:i.form.controls.tarifa.errors.required),n.R7$(),n.Y8G("ngIf",null==i.form.controls.tarifa.errors?null:i.form.controls.tarifa.errors.min)}}function N(a,c){if(1&a&&(n.j41(0,"div",23)(1,"ion-chip",24),n.nrm(2,"ion-icon",25),n.j41(3,"ion-label"),n.EFF(4),n.nI1(5,"currency"),n.k0s()()()),2&a){let i;const t=n.XpG();n.R7$(4),n.SpI("",n.iJd(5,1,n.eq3(7,y,null==(i=t.form.get("tarifa"))?null:i.value))," MXN")}}let $=(()=>{var a;class c{constructor(){this.firebaseSvc=(0,n.WQX)(x.f),this.utilsSvc=(0,n.WQX)(h.T),this.form=new l.gE({distancia_min:new l.MJ(0,[l.k0.required,l.k0.min(0)]),distancia_max:new l.MJ(.5,[l.k0.required,l.k0.min(.1)]),tarifa:new l.MJ(30,[l.k0.required,l.k0.min(1)]),activo:new l.MJ(!0)})}ngOnInit(){console.log("AddUpdateTarifaComponent initialized with tarifa:",this.tarifa),this.tarifa&&this.form.patchValue({distancia_min:this.tarifa.distancia_min||0,distancia_max:this.tarifa.distancia_max||.5,tarifa:this.tarifa.tarifa||30,activo:void 0===this.tarifa.activo||this.tarifa.activo})}submit(){var t=this;return(0,g.A)(function*(){if(!t.form.valid)return void t.utilsSvc.presentToast({message:"Por favor completa todos los campos correctamente",duration:2500,color:"warning",position:"bottom",icon:"warning-outline"});const e=t.form.value;if(Number(e.distancia_max)<=Number(e.distancia_min))return void t.utilsSvc.presentToast({message:"La distancia m\xe1xima debe ser mayor a la m\xednima",duration:3e3,color:"warning",position:"bottom",icon:"warning-outline"});const o={distancia_min:Number(e.distancia_min),distancia_max:Number(e.distancia_max),tarifa:Number(e.tarifa),activo:!!e.activo,rango_distancia:`${e.distancia_min} - ${e.distancia_max} km`,fecha_actualizacion:new Date},s=yield t.utilsSvc.loading();yield s.present();try{if((yield new Promise((_,u)=>{t.firebaseSvc.getCollectionData("tarifas_transporte").subscribe({next:_,error:u})})).some(_=>{if(t.tarifa&&_.id===t.tarifa.id)return!1;const u=Number(_.distancia_min),b=Number(_.distancia_max);return e.distancia_min<b&&e.distancia_max>u}))return t.utilsSvc.presentToast({message:"Ya existe una tarifa que se superpone con este rango de distancia",duration:3e3,color:"warning",position:"bottom",icon:"warning-outline"}),void(yield s.dismiss());console.log(t.tarifa),t.tarifa&&t.tarifa.id?(yield t.firebaseSvc.updateDocumet(`tarifas_transporte/${t.tarifa.id}`,o),t.utilsSvc.presentToast({message:"Tarifa actualizada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"})):(yield t.firebaseSvc.addDocument("tarifas_transporte",o),t.utilsSvc.presentToast({message:"Tarifa agregada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"})),t.utilsSvc.dismissModal({success:!0})}catch(d){t.utilsSvc.presentToast({message:"Error al guardar la tarifa: "+((null==d?void 0:d.message)||d),duration:3e3,color:"danger",position:"bottom",icon:"alert-circle-outline"})}finally{yield s.dismiss()}})()}setNumberInputs(){const t=this.form.value;this.form.patchValue({distancia_min:Number(t.distancia_min)||0,distancia_max:Number(t.distancia_max)||0,tarifa:Number(t.tarifa)||0})}}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275cmp=n.VBU({type:a,selectors:[["app-add-update-tarifa"]],inputs:{tarifa:"tarifa"},decls:43,vars:13,consts:[[3,"isModal","title"],[1,"form-tarifa","ion-padding",3,"ngSubmit","formGroup"],[1,"form-section"],["name","location-outline"],[1,"inputs-row"],["lines","none",1,"input-item"],["position","stacked"],["type","number","min","0","placeholder","Ej: 0",3,"ionInput","formControl"],["type","number","min","0.1","placeholder","Ej: 0.5",3,"ionInput","formControl"],[1,"validators"],[4,"ngIf"],["class","range-preview",4,"ngIf"],["name","cash-outline"],["type","number","min","1","placeholder","Ej: 30",3,"ionInput","formControl"],["class","price-preview",4,"ngIf"],["lines","none",1,"checkbox-item"],["slot","start","formControlName","activo"],[1,"button-section"],["expand","block","size","large","type","submit",1,"submit-btn",3,"disabled"],["name","checkmark-circle-outline","slot","start"],[1,"range-preview"],["color","primary","outline",""],["name","location-outline","slot","start"],[1,"price-preview"],["color","success","outline",""],["name","cash-outline","slot","start"]],template:function(t,e){if(1&t&&(n.nrm(0,"app-header",0),n.j41(1,"ion-content")(2,"form",1),n.bIt("ngSubmit",function(){return e.submit()}),n.j41(3,"div",2)(4,"h3"),n.nrm(5,"ion-icon",3),n.EFF(6," Rango de Distancia "),n.k0s(),n.j41(7,"div",4)(8,"ion-item",5)(9,"ion-label",6),n.EFF(10,"Distancia m\xednima (km)"),n.k0s(),n.j41(11,"ion-input",7),n.bIt("ionInput",function(){return e.setNumberInputs()}),n.k0s()(),n.j41(12,"ion-item",5)(13,"ion-label",6),n.EFF(14,"Distancia m\xe1xima (km)"),n.k0s(),n.j41(15,"ion-input",8),n.bIt("ionInput",function(){return e.setNumberInputs()}),n.k0s()()(),n.j41(16,"div",9),n.DNE(17,k,3,2,"div",10)(18,I,3,2,"div",10),n.k0s(),n.DNE(19,z,5,2,"div",11),n.k0s(),n.j41(20,"div",2)(21,"h3"),n.nrm(22,"ion-icon",12),n.EFF(23," Tarifa "),n.k0s(),n.j41(24,"ion-item",5)(25,"ion-label",6),n.EFF(26,"Precio (MXN)"),n.k0s(),n.j41(27,"ion-input",13),n.bIt("ionInput",function(){return e.setNumberInputs()}),n.k0s()(),n.j41(28,"div",9),n.DNE(29,G,3,2,"div",10),n.k0s(),n.DNE(30,N,6,9,"div",14),n.k0s(),n.j41(31,"div",2)(32,"ion-item",15),n.nrm(33,"ion-checkbox",16),n.j41(34,"ion-label")(35,"h3"),n.EFF(36,"Tarifa activa"),n.k0s(),n.j41(37,"p"),n.EFF(38,"Esta tarifa estar\xe1 disponible para c\xe1lculos de entrega"),n.k0s()()()(),n.j41(39,"div",17)(40,"ion-button",18),n.nrm(41,"ion-icon",19),n.EFF(42),n.k0s()()()()),2&t){let o,s;n.Y8G("isModal",!0)("title",e.tarifa?"Actualizar Tarifa":"Agregar Tarifa"),n.R7$(2),n.Y8G("formGroup",e.form),n.R7$(9),n.Y8G("formControl",e.form.controls.distancia_min),n.R7$(4),n.Y8G("formControl",e.form.controls.distancia_max),n.R7$(2),n.Y8G("ngIf",e.form.controls.distancia_min.errors&&e.form.controls.distancia_min.touched),n.R7$(),n.Y8G("ngIf",e.form.controls.distancia_max.errors&&e.form.controls.distancia_max.touched),n.R7$(),n.Y8G("ngIf",(null==(o=e.form.get("distancia_min"))?null:o.value)>=0&&(null==(o=e.form.get("distancia_max"))?null:o.value)>0),n.R7$(8),n.Y8G("formControl",e.form.controls.tarifa),n.R7$(2),n.Y8G("ngIf",e.form.controls.tarifa.errors&&e.form.controls.tarifa.touched),n.R7$(),n.Y8G("ngIf",(null==(s=e.form.get("tarifa"))?null:s.value)&&(null==(s=e.form.get("tarifa"))?null:s.value)>0),n.R7$(10),n.Y8G("disabled",e.form.invalid),n.R7$(2),n.SpI(" ",e.tarifa?"Actualizar Tarifa":"Agregar Tarifa"," ")}},dependencies:[m.bT,r.Jm,r.eY,r.ZB,r.W9,r.iq,r.$w,r.uz,r.he,r.hB,r.su,r.T6,l.qT,l.BC,l.cb,l.l_,l.j4,l.JD,v.l,m.oe],styles:[".form-tarifa[_ngcontent-%COMP%]{max-width:480px;margin:0 auto;background:var(--ion-color-light);border-radius:16px;box-shadow:0 2px 12px #00000012;padding:16px}.form-section[_ngcontent-%COMP%]{margin-bottom:28px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin:0 0 16px;font-weight:600;color:var(--ion-color-primary);font-size:18px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.inputs-row[_ngcontent-%COMP%]{display:flex;gap:12px}@media (max-width: 600px){.inputs-row[_ngcontent-%COMP%]{flex-direction:column;gap:8px}}.input-item[_ngcontent-%COMP%]{flex:1;--background: var(--ion-color-light);--border-radius: 12px;margin-bottom:8px}.input-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium)}.input-item[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.distance-inputs[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:16px;margin-bottom:16px}.distance-inputs[_ngcontent-%COMP%]   .distance-field[_ngcontent-%COMP%]{flex:1}.distance-inputs[_ngcontent-%COMP%]   .distance-separator[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:20px}.distance-inputs[_ngcontent-%COMP%]   .distance-separator[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;color:var(--ion-color-medium)}@media (max-width: 768px){.distance-inputs[_ngcontent-%COMP%]{flex-direction:column;gap:16px}.distance-inputs[_ngcontent-%COMP%]   .distance-separator[_ngcontent-%COMP%]{justify-content:center;margin-top:0;transform:rotate(90deg)}}.validators[_ngcontent-%COMP%]{margin-top:4px;font-size:12px;color:var(--ion-color-danger)}.validators[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}@media (max-width: 480px){.form-section[_ngcontent-%COMP%]{margin-bottom:24px}.form-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:16px;margin-bottom:16px}.button-section[_ngcontent-%COMP%]{margin-top:30px;padding-top:15px}.button-section[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{height:48px;font-size:15px}}.range-preview[_ngcontent-%COMP%], .price-preview[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:12px}.range-preview[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%], .price-preview[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{--background: var(--ion-color-light);--color: var(--ion-color-dark);font-weight:500}.range-preview[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], .price-preview[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-weight:600}.checkbox-item[_ngcontent-%COMP%]{--background: var(--ion-color-light);--border-radius: 12px;border-radius:12px;margin-bottom:8px}.checkbox-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-left:12px}.checkbox-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-weight:500;font-size:16px}.checkbox-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px;color:var(--ion-color-medium)}.button-section[_ngcontent-%COMP%]{margin-top:24px}.button-section[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600;font-size:16px}.button-section[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]:disabled{--opacity: .5}.validators[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}app-custom-input[_ngcontent-%COMP%]{margin-bottom:8px}ion-chip[_ngcontent-%COMP%]{transition:all .3s ease}ion-chip[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0000001a}"]}),c})();const P=a=>[a,"MXN","symbol-narrow","1.2-2","en-US"];function S(a,c){if(1&a&&(n.j41(0,"div",44)(1,"div",45),n.nrm(2,"ion-icon",46),n.j41(3,"span",47),n.EFF(4),n.nI1(5,"currency"),n.k0s()()()),2&a){const i=n.XpG(2);n.R7$(4),n.SpI("Tarifa: ",n.iJd(5,1,n.eq3(7,P,i.fixedTariff.precio))," MXN")}}function V(a,c){if(1&a){const i=n.RV6();n.j41(0,"ion-card",32)(1,"ion-card-header")(2,"div",33)(3,"div",34),n.nrm(4,"ion-icon",35),n.k0s(),n.j41(5,"div",8)(6,"h3"),n.EFF(7,"Tarifa Fija"),n.k0s(),n.j41(8,"p"),n.EFF(9,"Precio \xfanico para todos los viajes"),n.k0s()()()(),n.j41(10,"ion-card-content")(11,"div",36)(12,"div",37)(13,"ion-item",38),n.nrm(14,"ion-icon",39),n.j41(15,"ion-label",13),n.EFF(16,"Precio por viaje"),n.k0s(),n.j41(17,"ion-input",40),n.mxI("ngModelChange",function(e){n.eBV(i);const o=n.XpG();return n.DH7(o.fixedTariff.precio,e)||(o.fixedTariff.precio=e),n.Njj(e)}),n.k0s(),n.j41(18,"ion-note",15),n.EFF(19,"MXN"),n.k0s()()(),n.DNE(20,S,6,9,"div",41),n.j41(21,"ion-button",42),n.bIt("click",function(){n.eBV(i);const e=n.XpG();return n.Njj(e.saveFixedTariff())}),n.nrm(22,"ion-icon",43),n.EFF(23),n.k0s()()()()}if(2&a){const i=n.XpG();n.R7$(17),n.R50("ngModel",i.fixedTariff.precio),n.R7$(3),n.Y8G("ngIf",i.fixedTariff.precio&&i.fixedTariff.precio>0),n.R7$(),n.Y8G("disabled",!i.fixedTariff.precio||i.fixedTariff.precio<=0),n.R7$(2),n.SpI(" ",i.fixedTariff.id?"Actualizar Tarifa":"Guardar Tarifa"," ")}}function A(a,c){if(1&a){const i=n.RV6();n.j41(0,"ion-col",58)(1,"ion-card",59)(2,"ion-card-header")(3,"div",60),n.nrm(4,"ion-icon",61),n.j41(5,"div",62)(6,"span",63),n.EFF(7),n.k0s(),n.j41(8,"ion-badge",64),n.EFF(9),n.nI1(10,"currency"),n.k0s()()()(),n.j41(11,"ion-card-content")(12,"div",65)(13,"div",66)(14,"ion-label",67),n.EFF(15,"Desde"),n.k0s(),n.j41(16,"div",68),n.EFF(17),n.k0s()(),n.j41(18,"div",66)(19,"ion-label",67),n.EFF(20,"Hasta"),n.k0s(),n.j41(21,"div",68),n.EFF(22),n.k0s()(),n.j41(23,"div",66)(24,"ion-label",67),n.EFF(25,"Estado"),n.k0s(),n.j41(26,"ion-chip",69),n.nrm(27,"ion-icon",70),n.j41(28,"ion-label"),n.EFF(29),n.k0s()()()(),n.j41(30,"div",71)(31,"ion-button",72),n.bIt("click",function(){const e=n.eBV(i).$implicit,o=n.XpG(3);return n.Njj(o.editTariff(e))}),n.nrm(32,"ion-icon",73),n.EFF(33," Editar "),n.k0s(),n.j41(34,"ion-button",74),n.bIt("click",function(){const e=n.eBV(i).$implicit,o=n.XpG(3);return n.Njj(o.deleteTariff(e))}),n.nrm(35,"ion-icon",75),n.EFF(36," Eliminar "),n.k0s()()()()()}if(2&a){const i=c.$implicit,t=n.XpG(3);n.R7$(),n.AVh("active",t.isRangeActive(i)),n.R7$(6),n.JRh(i.rango_distancia),n.R7$(2),n.SpI(" ",n.iJd(10,9,n.eq3(15,P,i.tarifa))," "),n.R7$(8),n.SpI("",i.distancia_min," km"),n.R7$(5),n.SpI("",i.distancia_max," km"),n.R7$(4),n.Y8G("color",i.activo?"success":"medium"),n.R7$(),n.Y8G("name",i.activo?"checkmark-circle":"pause-circle"),n.R7$(2),n.JRh(i.activo?"Activo":"Inactivo")}}function Y(a,c){if(1&a&&(n.j41(0,"div")(1,"div",56)(2,"ion-row"),n.DNE(3,A,37,17,"ion-col",57),n.k0s()()()),2&a){const i=n.XpG(2);n.R7$(3),n.Y8G("ngForOf",i.distanceTariffs)}}function X(a,c){if(1&a){const i=n.RV6();n.j41(0,"div",76)(1,"div",77),n.nrm(2,"ion-icon",78),n.j41(3,"h4"),n.EFF(4,"No hay tarifas configuradas"),n.k0s(),n.j41(5,"p"),n.EFF(6,"Agrega tu primera tarifa por distancia para comenzar"),n.k0s(),n.j41(7,"ion-button",79),n.bIt("click",function(){n.eBV(i);const e=n.XpG(2);return n.Njj(e.openAddRangeModal())}),n.nrm(8,"ion-icon",51),n.EFF(9," Agregar Primera Tarifa "),n.k0s()()()}}function U(a,c){if(1&a){const i=n.RV6();n.j41(0,"div",48)(1,"div",49)(2,"ion-button",50),n.bIt("click",function(){n.eBV(i);const e=n.XpG();return n.Njj(e.openAddRangeModal())}),n.nrm(3,"ion-icon",51),n.EFF(4," Agregar Nuevo Rango "),n.k0s()(),n.j41(5,"ion-card",52)(6,"ion-card-header")(7,"div",33)(8,"div",53),n.nrm(9,"ion-icon",54),n.k0s(),n.j41(10,"div",8)(11,"h3"),n.EFF(12,"Tarifas por Distancia"),n.k0s(),n.j41(13,"p"),n.EFF(14),n.k0s()()()(),n.j41(15,"ion-card-content"),n.DNE(16,Y,4,1,"div",55)(17,X,10,0,"ng-template",null,0,n.C5r),n.k0s()()()}if(2&a){const i=n.sdS(18),t=n.XpG();n.R7$(14),n.E5c("",t.distanceTariffs.length," rango",1!==t.distanceTariffs.length?"s":""," configurado",1!==t.distanceTariffs.length?"s":"",""),n.R7$(2),n.Y8G("ngIf",t.distanceTariffs.length>0)("ngIfElse",i)}}function B(a,c){1&a&&(n.j41(0,"div",80),n.nrm(1,"ion-spinner",81),n.j41(2,"p"),n.EFF(3,"Cargando tarifas..."),n.k0s()())}const J=[{path:"",component:(()=>{var a;class c{constructor(t,e){this.modalCtrl=t,this.alertCtrl=e,this.firebaseSvc=(0,n.WQX)(x.f),this.utilsSvc=(0,n.WQX)(h.T),this.tariffType="distance",this.distanceTariffs=[],this.fixedTariff={precio:50,activo:!0},this.loading=!1,this.calculatorDistance=.5,this.calculatedFare=0}ngOnInit(){this.loadTariffs()}loadTariffs(){var t=this;return(0,g.A)(function*(){t.loading=!0;try{t.firebaseSvc.getCollectionData("tarifas_transporte").subscribe(e=>{t.distanceTariffs=(e||[]).map(o=>({id:o.id,rango_distancia:o.rango_distancia||"",distancia_min:Number(o.distancia_min)||0,distancia_max:Number(o.distancia_max)||0,tarifa:Number(o.tarifa)||0,activo:!!o.activo})).sort((o,s)=>o.distancia_min-s.distancia_min),t.calculateFare()}),t.firebaseSvc.getCollectionData("tarifa_fija").subscribe(e=>{if(e&&e.length>0){const o=e[0];t.fixedTariff={id:o.id,precio:Number(o.precio)||50,activo:!!o.activo}}t.calculateFare()})}catch(e){console.error("Error loading tariffs:",e),t.utilsSvc.presentToast({message:"Error al cargar las tarifas",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}finally{t.loading=!1}})()}onTariffTypeChange(){this.calculateFare()}calculateFare(){this.calculatedFare="fixed"===this.tariffType?this.fixedTariff.precio||0:this.calculateDistanceFare(this.calculatorDistance)}calculateDistanceFare(t){const e=this.distanceTariffs.find(o=>t>=o.distancia_min&&t<=o.distancia_max&&o.activo);return e?e.tarifa:0}isRangeActive(t){return this.calculatorDistance>=t.distancia_min&&this.calculatorDistance<=t.distancia_max}openAddRangeModal(t){var e=this;return(0,g.A)(function*(){try{const o=yield e.modalCtrl.create({component:$,componentProps:{tarifa:t},cssClass:"add-update-modal"});o.onDidDismiss().then(s=>{var d;null!=s&&null!==(d=s.data)&&void 0!==d&&d.success&&e.loadTariffs()}),yield o.present()}catch(o){console.error("Error opening modal:",o),e.utilsSvc.presentToast({message:"Error al abrir el formulario",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}})()}saveTariff(t,e){var o=this;return(0,g.A)(function*(){const s=yield o.utilsSvc.loading();yield s.present();try{const d=Number(t.distancia_min),p=Number(t.distancia_max),_=Number(t.tarifa);if(d<0||p<=0||_<=0)throw new Error("Todos los valores deben ser mayores a 0");if(p<=d)throw new Error("La distancia m\xe1xima debe ser mayor a la m\xednima");if((yield o.firebaseSvc.getCollectionData("tarifas_transporte").toPromise()).some(C=>{if(e&&C.id===e.id)return!1;const Q=Number(C.distancia_min),L=Number(C.distancia_max);return d<L&&p>Q}))throw new Error("Ya existe una tarifa que se superpone con este rango");const w={distancia_min:d,distancia_max:p,tarifa:_,activo:!0,rango_distancia:`${d} - ${p} km`,fecha_actualizacion:new Date};e&&e.id?(yield o.firebaseSvc.updateDocumet(`tarifas_transporte/${e.id}`,w),o.utilsSvc.presentToast({message:"Tarifa actualizada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"})):(yield o.firebaseSvc.addDocument("tarifas_transporte",w),o.utilsSvc.presentToast({message:"Tarifa agregada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"})),o.loadTariffs()}catch(d){console.error("Error saving tariff:",d),o.utilsSvc.presentToast({message:d.message||"Error al guardar la tarifa",duration:3e3,color:"danger",position:"bottom",icon:"alert-circle-outline"})}finally{s.dismiss()}})()}editTariff(t){var e=this;return(0,g.A)(function*(){yield e.openAddRangeModal(t)})()}deleteTariff(t){var e=this;return(0,g.A)(function*(){var s;yield(yield e.alertCtrl.create({header:"Confirmar eliminaci\xf3n",message:`\xbfEst\xe1s seguro de eliminar la tarifa para ${t.rango_distancia}?`,buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",role:"destructive",handler:(s=(0,g.A)(function*(){const d=yield e.utilsSvc.loading();yield d.present();try{yield e.firebaseSvc.deleteDocumet(`tarifas_transporte/${t.id}`),e.utilsSvc.presentToast({message:"Tarifa eliminada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"})}catch(p){console.error("Error deleting tariff:",p),e.utilsSvc.presentToast({message:"Error al eliminar la tarifa",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}finally{d.dismiss()}}),function(){return s.apply(this,arguments)})}]})).present()})()}saveFixedTariff(){var t=this;return(0,g.A)(function*(){if(!t.fixedTariff.precio||t.fixedTariff.precio<=0)return void t.utilsSvc.presentToast({message:"Por favor ingresa un precio v\xe1lido",duration:2500,color:"warning",position:"bottom",icon:"warning-outline"});const e=yield t.utilsSvc.loading();yield e.present();try{const o={precio:Number(t.fixedTariff.precio),activo:!0,fecha_actualizacion:new Date};if(t.fixedTariff.id)yield t.firebaseSvc.updateDocumet(`tarifa_fija/${t.fixedTariff.id}`,o);else{const s=yield t.firebaseSvc.addDocument("tarifa_fija",o);t.fixedTariff.id=s.id}t.utilsSvc.presentToast({message:"Tarifa fija guardada exitosamente",duration:2500,color:"success",position:"bottom",icon:"checkmark-circle-outline"}),t.calculateFare()}catch(o){console.error("Error saving fixed tariff:",o),t.utilsSvc.presentToast({message:"Error al guardar la tarifa fija",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}finally{e.dismiss()}})()}}return(a=c).\u0275fac=function(t){return new(t||a)(n.rXU(r.W3),n.rXU(r.hG))},a.\u0275cmp=n.VBU({type:a,selectors:[["app-precio-viaje"]],decls:52,vars:16,consts:[["noTariffs",""],["title","Tarifas de Transporte",3,"showMenu"],[3,"fullscreen"],[1,"container"],[1,"calculator-card"],[1,"calculator-header"],[1,"header-icon-wrapper"],["name","calculator-outline",2,"color","white"],[1,"header-content"],[1,"calculator-content"],[1,"distance-input-wrapper"],["lines","none",1,"distance-item"],["name","location-outline","slot","start",1,"input-icon"],["position","stacked"],["type","number","placeholder","0.5",1,"distance-input",3,"ngModelChange","ionInput","ngModel"],["slot","end"],[1,"fare-result"],[1,"result-content"],[1,"fare-label"],[1,"fare-amount-wrapper"],[1,"fare-amount"],[1,"currency"],[1,"tariff-type-card"],[1,"custom-segment",3,"ngModelChange","ionChange","ngModel"],["value","fixed",1,"segment-button"],[1,"segment-content"],["name","cash-outline"],["value","distance",1,"segment-button"],["name","map-outline"],["class","fixed-tariff-card",4,"ngIf"],["class","distance-section",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"fixed-tariff-card"],[1,"section-header"],[1,"header-icon-wrapper","primary"],["name","cash-outline",2,"color","white"],[1,"fixed-tariff-content"],[1,"price-input-wrapper"],["lines","none",1,"price-item"],["name","pricetag-outline","slot","start",1,"input-icon"],["type","number","placeholder","50.00",1,"price-input",3,"ngModelChange","ngModel"],["class","tariff-preview",4,"ngIf"],["expand","block","size","large",1,"save-button",3,"click","disabled"],["name","save-outline","slot","start"],[1,"tariff-preview"],[1,"preview-card"],["name","checkmark-circle","color","light"],[2,"color","white"],[1,"distance-section"],[1,"add-range-section"],["expand","block","size","large","fill","outline",1,"add-range-btn",3,"click"],["name","add-circle-outline","slot","start"],[1,"tariffs-card"],[1,"header-icon-wrapper","secondary"],["name","map-outline","color","light"],[4,"ngIf","ngIfElse"],[1,"tariff-cards"],["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4"],[1,"tariff-card","improved-card"],[1,"tariff-header-row"],["name","location-outline",1,"range-icon"],[1,"tariff-title"],[1,"range-text"],["color","primary",1,"tariff-badge"],[1,"tariff-details-row"],[1,"detail-block"],["color","medium"],[1,"detail-value"],[1,"status-chip",3,"color"],["slot","start",3,"name"],[1,"tariff-actions-row"],["fill","clear","color","primary",1,"action-button",3,"click"],["name","create-outline","slot","start"],["fill","clear","color","danger",1,"action-button",3,"click"],["name","trash-outline","slot","start"],[1,"no-tariffs"],[1,"empty-state"],["name","map-outline",1,"empty-icon"],["fill","solid",1,"empty-action-button",3,"click"],[1,"loading-container"],["name","crescent"]],template:function(t,e){1&t&&(n.nrm(0,"app-header",1),n.j41(1,"ion-content",2)(2,"div",3)(3,"ion-card",4)(4,"ion-card-header")(5,"div",5)(6,"div",6),n.nrm(7,"ion-icon",7),n.k0s(),n.j41(8,"div",8)(9,"h2"),n.EFF(10,"Calculadora de Tarifa"),n.k0s(),n.j41(11,"p"),n.EFF(12,"Calcula el costo seg\xfan la distancia"),n.k0s()()()(),n.j41(13,"ion-card-content")(14,"div",9)(15,"div",10)(16,"ion-item",11),n.nrm(17,"ion-icon",12),n.j41(18,"ion-label",13),n.EFF(19,"Distancia del viaje"),n.k0s(),n.j41(20,"ion-input",14),n.mxI("ngModelChange",function(s){return n.DH7(e.calculatorDistance,s)||(e.calculatorDistance=s),s}),n.bIt("ionInput",function(){return e.calculateFare()}),n.k0s(),n.j41(21,"ion-note",15),n.EFF(22,"km"),n.k0s()()(),n.j41(23,"div",16)(24,"div",17)(25,"span",18),n.EFF(26,"Tarifa calculada"),n.k0s(),n.j41(27,"div",19)(28,"span",20),n.EFF(29),n.nI1(30,"currency"),n.k0s(),n.j41(31,"span",21),n.EFF(32,"MXN"),n.k0s()()()()()()(),n.j41(33,"ion-card",22)(34,"ion-card-header")(35,"h3"),n.EFF(36,"Tipo de Tarificaci\xf3n"),n.k0s()(),n.j41(37,"ion-card-content")(38,"ion-segment",23),n.mxI("ngModelChange",function(s){return n.DH7(e.tariffType,s)||(e.tariffType=s),s}),n.bIt("ionChange",function(){return e.onTariffTypeChange()}),n.j41(39,"ion-segment-button",24)(40,"div",25),n.nrm(41,"ion-icon",26),n.j41(42,"ion-label"),n.EFF(43,"Tarifa Fija"),n.k0s()()(),n.j41(44,"ion-segment-button",27)(45,"div",25),n.nrm(46,"ion-icon",28),n.j41(47,"ion-label"),n.EFF(48,"Por Distancia"),n.k0s()()()()()(),n.DNE(49,V,24,4,"ion-card",29)(50,U,19,5,"div",30),n.k0s(),n.DNE(51,B,4,0,"div",31),n.k0s()),2&t&&(n.Y8G("showMenu",!0),n.R7$(),n.Y8G("fullscreen",!0),n.R7$(19),n.R50("ngModel",e.calculatorDistance),n.R7$(9),n.JRh(n.iJd(30,8,n.eq3(14,P,e.calculatedFare))),n.R7$(9),n.R50("ngModel",e.tariffType),n.R7$(11),n.Y8G("ngIf","fixed"===e.tariffType),n.R7$(),n.Y8G("ngIf","distance"===e.tariffType),n.R7$(),n.Y8G("ngIf",e.loading))},dependencies:[m.Sq,m.bT,l.BC,l.vS,r.In,r.Jm,r.b_,r.I9,r.ME,r.ZB,r.hU,r.W9,r.iq,r.$w,r.uz,r.he,r.JI,r.ln,r.Gp,r.eP,r.w2,r.su,r.Je,v.l,m.oe],styles:[".container[_ngcontent-%COMP%]{padding:16px;max-width:1200px;margin:0 auto}@media (max-width: 768px){.container[_ngcontent-%COMP%]{padding:8px}}.calculator-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px;box-shadow:0 4px 12px #0000001a}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;background:var(--ion-color-primary-tint);display:flex;align-items:center;justify-content:center}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;color:var(--ion-color-primary)}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 4px;font-weight:600;font-size:20px}.calculator-card[_ngcontent-%COMP%]   .calculator-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:14px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .distance-input-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .distance-input-wrapper[_ngcontent-%COMP%]   .distance-item[_ngcontent-%COMP%]{--background: var(--ion-color-light);--border-radius: 12px;--padding-start: 16px;--padding-end: 16px;margin-bottom:8px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .distance-input-wrapper[_ngcontent-%COMP%]   .distance-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-right:8px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .distance-input-wrapper[_ngcontent-%COMP%]   .distance-item[_ngcontent-%COMP%]   .distance-input[_ngcontent-%COMP%]{font-size:16px;font-weight:500}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .distance-input-wrapper[_ngcontent-%COMP%]   .distance-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-medium)}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]{background:linear-gradient(135deg,var(--ion-color-success-tint),var(--ion-color-success));border-radius:16px;padding:20px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]{text-align:center}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .fare-label[_ngcontent-%COMP%]{display:block;font-weight:500;color:#fff;margin-bottom:8px;font-size:14px;opacity:.9}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .fare-amount-wrapper[_ngcontent-%COMP%]{display:flex;align-items:baseline;justify-content:center;gap:4px}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .fare-amount-wrapper[_ngcontent-%COMP%]   .fare-amount[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff}.calculator-card[_ngcontent-%COMP%]   .calculator-content[_ngcontent-%COMP%]   .fare-result[_ngcontent-%COMP%]   .result-content[_ngcontent-%COMP%]   .fare-amount-wrapper[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:#fff;opacity:.8}.tariff-type-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px}.tariff-type-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:600;text-align:center}.tariff-type-card[_ngcontent-%COMP%]   .custom-segment[_ngcontent-%COMP%]{--background: var(--ion-color-light);border-radius:12px;padding:4px}.tariff-type-card[_ngcontent-%COMP%]   .custom-segment[_ngcontent-%COMP%]   .segment-button[_ngcontent-%COMP%]{--border-radius: 8px;margin:0}.tariff-type-card[_ngcontent-%COMP%]   .custom-segment[_ngcontent-%COMP%]   .segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 4px}.tariff-type-card[_ngcontent-%COMP%]   .custom-segment[_ngcontent-%COMP%]   .segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.tariff-type-card[_ngcontent-%COMP%]   .custom-segment[_ngcontent-%COMP%]   .segment-button[_ngcontent-%COMP%]   .segment-content[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.fixed-tariff-card[_ngcontent-%COMP%]{margin-bottom:20px;border-radius:16px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]{margin-bottom:20px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-item[_ngcontent-%COMP%]{--background: var(--ion-color-light);--border-radius: 12px;--padding-start: 16px;--padding-end: 16px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-item[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-right:8px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-item[_ngcontent-%COMP%]   .price-input[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .price-input-wrapper[_ngcontent-%COMP%]   .price-item[_ngcontent-%COMP%]   ion-note[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-medium)}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .tariff-preview[_ngcontent-%COMP%]{margin-bottom:20px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .tariff-preview[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]{background:var(--ion-color-success-tint);padding:16px;border-radius:12px;display:flex;align-items:center;gap:12px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .tariff-preview[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .tariff-preview[_ngcontent-%COMP%]   .preview-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;color:var(--ion-color-success-shade)}.fixed-tariff-card[_ngcontent-%COMP%]   .fixed-tariff-content[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:12px;display:flex;align-items:center;justify-content:center}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper.primary[_ngcontent-%COMP%]{background:var(--ion-color-primary-tint)}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper.primary[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary)}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper.secondary[_ngcontent-%COMP%]{background:var(--ion-color-secondary-tint)}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper.secondary[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--ion-color-secondary)}.section-header[_ngcontent-%COMP%]   .header-icon-wrapper[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-weight:600;font-size:18px}.section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:14px}.distance-section[_ngcontent-%COMP%]   .add-range-section[_ngcontent-%COMP%]{margin-bottom:20px}.distance-section[_ngcontent-%COMP%]   .add-range-section[_ngcontent-%COMP%]   .add-range-btn[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600;--border-width: 2px;--border-style: dashed}.tariffs-card[_ngcontent-%COMP%]{border-radius:16px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;margin-top:8px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]{background:var(--ion-color-light);border-radius:12px;padding:16px;border:2px solid transparent;transition:all .3s ease}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.active[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);background:var(--ion-color-primary-tint);transform:translateY(-2px);box-shadow:0 4px 12px rgba(var(--ion-color-primary-rgb),.2)}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 12px #00000014;margin-bottom:16px;background:var(--ion-color-light);transition:box-shadow .2s;border:2px solid transparent}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card.active[_ngcontent-%COMP%]{border-color:var(--ion-color-primary);box-shadow:0 4px 16px rgba(var(--ion-color-primary-rgb),.15)}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-header-row[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{font-size:22px;color:var(--ion-color-primary);margin-right:4px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-header-row[_ngcontent-%COMP%]   .tariff-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;font-size:16px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-header-row[_ngcontent-%COMP%]   .tariff-title[_ngcontent-%COMP%]   .tariff-badge[_ngcontent-%COMP%]{font-size:13px;font-weight:700;margin-left:4px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-details-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;margin:12px 0 8px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-details-row[_ngcontent-%COMP%]   .detail-block[_ngcontent-%COMP%]{flex:1 1 80px;min-width:80px;text-align:center}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-details-row[_ngcontent-%COMP%]   .detail-block[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;font-size:15px;margin-top:2px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-details-row[_ngcontent-%COMP%]   .detail-block[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:13px;color:var(--ion-color-medium)}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-details-row[_ngcontent-%COMP%]   .detail-block[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{margin-top:2px;font-size:13px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-actions-row[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center;margin-top:10px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card.improved-card[_ngcontent-%COMP%]   .tariff-actions-row[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{--border-radius: 8px;height:36px;font-size:14px;font-weight:500;min-width:90px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-icon[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:18px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .range-info[_ngcontent-%COMP%]   .range-text[_ngcontent-%COMP%]{font-weight:600;font-size:16px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .tariff-badge[_ngcontent-%COMP%]{font-weight:700;font-size:14px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{margin-bottom:16px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:12px}@media (max-width: 480px){.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:8px}}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]:last-child{grid-column:1/-1;justify-content:center;margin-top:8px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-label[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium)}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .detail-value[_ngcontent-%COMP%]{font-weight:600;font-size:14px}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]{margin:0}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]   .tariff-details[_ngcontent-%COMP%]   .detail-item[_ngcontent-%COMP%]   .status-chip[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{font-size:12px;font-weight:500}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}@media (max-width: 480px){.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]{flex-direction:column}}.tariffs-card[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]   .tariff-card[_ngcontent-%COMP%]   .card-actions[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{flex:1;--border-radius: 8px;height:40px;font-weight:500;font-size:14px}.tariffs-card[_ngcontent-%COMP%]   .no-tariffs[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px 20px}.tariffs-card[_ngcontent-%COMP%]   .no-tariffs[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;color:var(--ion-color-medium);opacity:.5;margin-bottom:16px}.tariffs-card[_ngcontent-%COMP%]   .no-tariffs[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-weight:600;color:var(--ion-color-dark)}.tariffs-card[_ngcontent-%COMP%]   .no-tariffs[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 24px;color:var(--ion-color-medium);font-size:14px}.tariffs-card[_ngcontent-%COMP%]   .no-tariffs[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-action-button[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:200px;gap:16px}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-size:14px}@media (min-width: 768px){.distance-section[_ngcontent-%COMP%]   .tariff-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:20px}}@media (max-width: 600px){.tariff-details-row[_ngcontent-%COMP%]{flex-direction:column;gap:8px!important}.tariff-details-row[_ngcontent-%COMP%]   .detail-block[_ngcontent-%COMP%]{min-width:unset;text-align:left}.tariff-card.improved-card[_ngcontent-%COMP%]{padding:8px;margin-bottom:12px}.tariff-actions-row[_ngcontent-%COMP%]{flex-direction:column;gap:6px!important}.tariff-actions-row[_ngcontent-%COMP%]   .action-button[_ngcontent-%COMP%]{min-width:unset;width:100%}}@keyframes _ngcontent-%COMP%_pulse{0%{box-shadow:0 4px 12px rgba(var(--ion-color-primary-rgb),.2)}50%{box-shadow:0 8px 20px rgba(var(--ion-color-primary-rgb),.3)}to{box-shadow:0 4px 12px rgba(var(--ion-color-primary-rgb),.2)}}.tariff-card.active[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s ease-in-out infinite}.add-update-modal[_ngcontent-%COMP%]   ion-content[_ngcontent-%COMP%]{padding:16px!important;background:var(--ion-color-light)}.add-update-modal[_ngcontent-%COMP%]   .form-section[_ngcontent-%COMP%]{margin-bottom:24px}.add-update-modal[_ngcontent-%COMP%]   .button-section[_ngcontent-%COMP%]{margin-top:24px}.add-update-modal[_ngcontent-%COMP%]   ion-button.submit-btn[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600;font-size:16px}"]}),c})()}];let q=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[O.iI.forChild(J),O.iI]}),c})();var W=f(7383);let H=(()=>{var a;class c{}return(a=c).\u0275fac=function(t){return new(t||a)},a.\u0275mod=n.$C({type:a}),a.\u0275inj=n.G2t({imports:[m.MD,l.YN,r.bv,q,W.G]}),c})()}}]);