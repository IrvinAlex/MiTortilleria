"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4308],{4308:(A,P,s)=>{s.r(P),s.d(P,{DireccionPageModule:()=>S});var M=s(177),O=s(9417),l=s(5933),f=s(8265),p=s(467),o=s(4438),m=s(8693),v=s(8663),b=s(2723),_=s(8721),h=s(1752),x=s(7157);const y=["mapContainer"];function k(a,d){1&a&&(o.j41(0,"div",24)(1,"div",25),o.nrm(2,"ion-spinner",26),o.j41(3,"p"),o.EFF(4,"Cargando mapa..."),o.k0s()()())}function D(a,d){if(1&a&&(o.j41(0,"ion-card",27)(1,"ion-card-content")(2,"div",28),o.nrm(3,"ion-icon",29),o.j41(4,"div",30)(5,"p")(6,"strong"),o.EFF(7,"Lat:"),o.k0s(),o.EFF(8),o.nI1(9,"number"),o.k0s(),o.j41(10,"p")(11,"strong"),o.EFF(12,"Lng:"),o.k0s(),o.EFF(13),o.nI1(14,"number"),o.k0s()()()()()),2&a){const u=o.XpG();o.R7$(8),o.SpI(" ",o.i5U(9,2,u.selectedLocation.lat,"1.6-6"),""),o.R7$(5),o.SpI(" ",o.i5U(14,5,u.selectedLocation.lng,"1.6-6"),"")}}function w(a,d){1&a&&(o.j41(0,"div",31)(1,"ion-card",32)(2,"ion-card-content")(3,"div",33),o.nrm(4,"ion-icon",34),o.j41(5,"p"),o.EFF(6,"Arrastra el marcador o toca en el mapa"),o.k0s()()()()())}const I=[{path:"",component:(()=>{var a;class d{constructor(){this.user={},this.webMap=null,this.webMarker=null,this.markerId=null,this.selectedLocation=null,this.isDireccionVacia=!1,this.direccion=[],this.isLoading=!0,this.firebaseSvc=(0,o.WQX)(v.f),this.utilsSvc=(0,o.WQX)(b.T),this.googleMapsSvc=(0,o.WQX)(_.s),this.geolocationSvc=(0,o.WQX)(h.O),this.platform=(0,o.WQX)(x.OD)}ngAfterViewInit(){var n=this;return(0,p.A)(function*(){n.isLoading=!0,console.log("=== INICIANDO CARGA DE MAPA ==="),console.log("Plataforma:",n.platform.platforms()),console.log("Es m\xf3vil:",n.googleMapsSvc.isMobile()),console.log("Es Android:",n.platform.is("android"));try{if("granted"!==(yield n.geolocationSvc.checkPermissions()).location&&"granted"!==(yield n.geolocationSvc.requestPermissions()).location)return console.error("Permisos de ubicaci\xf3n denegados"),void(n.isLoading=!1);yield n.loadDireccionesFromFirebase(),n.isDireccionVacia=n.checkIfDireccionIsEmpty(),n.buttonTitle=n.isDireccionVacia?"Agregar Ubicaci\xf3n":"Actualizar Ubicaci\xf3n",n.platform.is("android")&&(console.log("Detectado Android, esperando 2 segundos..."),yield new Promise(e=>setTimeout(e,2e3))),n.googleMapsSvc.isMobile()?yield n.initializeCapacitorMap():yield n.initializeWebMap()}catch(t){console.error("Error en ngAfterViewInit:",t),n.utilsSvc.presentToast({message:`Error al cargar el mapa: ${t.message||t}`,duration:5e3,color:"danger",icon:"warning-outline"})}finally{n.isLoading=!1}})()}loadDireccionesFromFirebase(){var n=this;return(0,p.A)(function*(){try{const t=n.userInfo();if(!t||!t.uid)return void console.log("No hay usuario autenticado");const e=`users/${t.uid}/Address`;console.log("Cargando direcciones desde Firebase:",e);const i=n.firebaseSvc.getCollectionData(e,[]),c=yield new Promise(r=>{const g=i.subscribe({next:C=>{g.unsubscribe(),r(C)},error:C=>{console.error("Error al cargar direcciones:",C),g.unsubscribe(),r([])}})});console.log("Direcciones obtenidas de Firebase:",c),n.direccion=c,n.utilsSvc.setElementInLocalstorage("direccion",n.direccion),console.log("localStorage actualizado con direcciones:",n.direccion)}catch(t){console.error("Error al cargar direcciones desde Firebase:",t)}})()}initializeCapacitorMap(){var n=this;return(0,p.A)(function*(){try{console.log("=== INICIALIZANDO MAPA CAPACITOR ===");const t="AIzaSyB5Zq3Y9PdVBkxPkG2FMF69Ti4zA0ZKjEE",e=document.getElementById("map");if(!e)throw new Error("Elemento del mapa no encontrado");let i;if(console.log("Elemento del mapa encontrado:",e),console.log("Dimensiones del elemento:",{width:e.offsetWidth,height:e.offsetHeight,clientWidth:e.clientWidth,clientHeight:e.clientHeight}),n.isDireccionVacia){console.log("Obteniendo ubicaci\xf3n actual...");try{const r=yield n.geolocationSvc.getCurrentPosition();i={lat:r.coords.latitude,lng:r.coords.longitude},console.log("Ubicaci\xf3n actual obtenida:",i)}catch{console.warn("Error obteniendo ubicaci\xf3n, usando coordenadas por defecto"),i={lat:19.4326,lng:-99.1332}}}else{const r=n.getCoordinatesFromDireccion();if(r)i=r,console.log("Usando coordenadas guardadas:",i);else try{const g=yield n.geolocationSvc.getCurrentPosition();i={lat:g.coords.latitude,lng:g.coords.longitude}}catch{i={lat:19.4326,lng:-99.1332}}}console.log("Coordenadas iniciales:",i),console.log("Creando mapa con configuraci\xf3n:",{id:"my-map",element:e,apiKey:t?"PRESENTE":"FALTA",config:{center:i,zoom:n.isDireccionVacia?15:16}}),(0===e.offsetHeight||0===e.offsetWidth)&&(e.style.height="100vh",e.style.width="100vw",console.log("Forzando dimensiones del mapa"));const c=yield m.u6.create({id:"my-map",element:e,apiKey:t,config:{center:i,zoom:n.isDireccionVacia?15:16,styles:[],gestureHandling:"greedy",disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1}});console.log("\u2705 Mapa creado exitosamente",c),n.map=c,setTimeout(()=>{console.log("Verificando visibilidad del mapa despu\xe9s de 2 segundos..."),console.log("Estado del elemento mapa:",{display:getComputedStyle(e).display,visibility:getComputedStyle(e).visibility,opacity:getComputedStyle(e).opacity,zIndex:getComputedStyle(e).zIndex})},2e3),console.log("Agregando marcador..."),n.markerId=yield c.addMarker({coordinate:i,draggable:!0}),console.log("\u2705 Marcador agregado:",n.markerId),c.setOnMarkerDragEndListener(r=>{n.selectedLocation={lat:r.latitude,lng:r.longitude},console.log("Ubicaci\xf3n actualizada (m\xf3vil):",n.selectedLocation)}),c.setOnMapClickListener(function(){var r=(0,p.A)(function*(g){console.log("Clic en mapa:",g),n.markerId&&(yield c.removeMarker(n.markerId)),n.markerId=yield c.addMarker({coordinate:{lat:g.latitude,lng:g.longitude},draggable:!0}),n.selectedLocation={lat:g.latitude,lng:g.longitude},console.log("Marcador movido por clic (m\xf3vil):",n.selectedLocation)});return function(g){return r.apply(this,arguments)}}()),console.log("\u2705 Mapa completamente inicializado")}catch(t){throw console.error("\u274c Error inicializando mapa Capacitor:",t),console.error("Detalles del error:",{message:t.message,stack:t.stack,name:t.name}),n.utilsSvc.presentToast({message:`Error espec\xedfico: ${t.message}`,duration:5e3,color:"danger",icon:"warning-outline"}),t}})()}initializeWebMap(){var n=this;return(0,p.A)(function*(){try{yield n.googleMapsSvc.loadGoogleMapsAPI(),yield n.createWebMap()}catch(t){console.error("Error al cargar Google Maps:",t),n.utilsSvc.presentToast({message:"Error al cargar el mapa. Verifica tu conexi\xf3n a internet.",duration:3e3,color:"danger",icon:"warning-outline"})}})()}createWebMap(){var n=this;return(0,p.A)(function*(){const t=document.getElementById("map");if(!t)return;let e;if(n.isDireccionVacia)try{const i=yield n.geolocationSvc.getCurrentPosition();e={lat:i.coords.latitude,lng:i.coords.longitude}}catch{e=n.googleMapsSvc.getDefaultCoordinates()}else{e=n.getCoordinatesFromDireccion()||n.googleMapsSvc.getDefaultCoordinates()}n.webMap=new google.maps.Map(t,{center:e,zoom:n.isDireccionVacia?15:16,styles:n.googleMapsSvc.getMapStyles(),mapTypeControl:!1,streetViewControl:!1,fullscreenControl:!1,zoomControl:!0,gestureHandling:"greedy"}),n.map=n.webMap,n.webMarker=new google.maps.Marker({position:e,map:n.webMap,draggable:!0,animation:google.maps.Animation.DROP,icon:n.googleMapsSvc.getCustomMarkerIcon("#22c55e")}),n.webMarker.addListener("dragend",i=>{i.latLng&&(n.selectedLocation={lat:i.latLng.lat(),lng:i.latLng.lng()},console.log("Ubicaci\xf3n actualizada (web):",n.selectedLocation))}),n.webMap.addListener("click",i=>{i.latLng&&n.webMarker&&(n.webMarker.setPosition(i.latLng),n.webMarker.setAnimation(google.maps.Animation.BOUNCE),setTimeout(()=>{n.webMarker&&n.webMarker.setAnimation(null)},1400),n.selectedLocation={lat:i.latLng.lat(),lng:i.latLng.lng()},console.log("Ubicaci\xf3n actualizada por clic (web):",n.selectedLocation))})})()}getCoordinatesFromDireccion(){const n=this.dir();if(!n||0===n.length)return null;const t=n[0].geopoint;return{lat:t._lat||t.latitude,lng:t._long||t.longitude}}dir(){return this.utilsSvc.getFromLocalStorage("direccion")||[]}checkIfDireccionIsEmpty(){const n=this.dir();return!n||0===n.length}userInfo(){return this.utilsSvc.getFromLocalStorage("user")}saveLocation(){var n=this;return(0,p.A)(function*(){console.log("=== INICIANDO PROCESO DE GUARDADO ==="),console.log("isDireccionVacia:",n.isDireccionVacia),console.log("direccion en localStorage:",n.dir()),console.log("userInfo:",n.userInfo());const t=n.userInfo();if(!t||!t.uid)return console.error("ERROR: No hay usuario autenticado"),void n.utilsSvc.presentToast({message:"Error: Usuario no autenticado",duration:2e3,color:"danger",icon:"warning-outline"});if(!n.selectedLocation)if(console.log("No hay selectedLocation, obteniendo ubicaci\xf3n..."),n.googleMapsSvc.isMobile())try{const c=yield n.geolocationSvc.getCurrentPosition();n.selectedLocation={lat:c.coords.latitude,lng:c.coords.longitude},console.log("Ubicaci\xf3n obtenida (m\xf3vil):",n.selectedLocation)}catch(c){return console.error("Error al obtener ubicaci\xf3n m\xf3vil:",c),void n.utilsSvc.presentToast({message:"Error al obtener la ubicaci\xf3n actual",duration:2e3,color:"danger",icon:"warning-outline"})}else if(n.webMarker){const c=n.webMarker.getPosition();c&&(n.selectedLocation={lat:c.lat(),lng:c.lng()},console.log("Ubicaci\xf3n obtenida del marcador web:",n.selectedLocation))}if(!n.selectedLocation)return console.log("ERROR: No se pudo obtener ninguna ubicaci\xf3n"),void n.utilsSvc.presentToast({message:"Por favor, selecciona una ubicaci\xf3n en el mapa",duration:2e3,color:"warning",icon:"location-outline"});console.log("Ubicaci\xf3n final para guardar:",n.selectedLocation);const e={geopoint:{_lat:n.selectedLocation.lat,_long:n.selectedLocation.lng}};console.log("Objeto direccionf creado:",e);const i=yield n.utilsSvc.loading();yield i.present();try{if(!n.isDireccionVacia&&n.dir().length>0){console.log("=== ACTUALIZANDO DIRECCI\xd3N EXISTENTE ===");const c=n.dir()[0];let r=`users/${t.uid}/Address/${c.id}`;console.log("Path de actualizaci\xf3n:",r),console.log("Datos a actualizar:",e),yield n.firebaseSvc.updateUserDireccion(r,e),console.log("\u2705 Ubicaci\xf3n actualizada exitosamente en Firebase"),n.utilsSvc.presentToast({message:"La ubicaci\xf3n se ha actualizado correctamente",duration:1500,color:"success",icon:"checkmark-circle-outline"})}else{console.log("=== AGREGANDO NUEVA DIRECCI\xd3N ===");let c=`users/${t.uid}/Address`;console.log("Path de nueva direcci\xf3n:",c),console.log("Datos a agregar:",e);const r=yield n.firebaseSvc.adddireccion(c,e);console.log("\u2705 Nueva ubicaci\xf3n agregada exitosamente en Firebase. Resultado:",r),n.utilsSvc.presentToast({message:"La ubicaci\xf3n se ha registrado correctamente",duration:1500,color:"success",icon:"checkmark-circle-outline"})}console.log("Actualizando localStorage despu\xe9s de guardar..."),yield n.loadDireccionesFromFirebase(),n.isDireccionVacia=n.checkIfDireccionIsEmpty(),n.buttonTitle=n.isDireccionVacia?"Agregar Ubicaci\xf3n":"Actualizar Ubicaci\xf3n"}catch(c){console.error("\u274c Error al guardar la ubicaci\xf3n:",c),n.utilsSvc.presentToast({message:`Error al guardar la ubicaci\xf3n: ${c.message||c}`,duration:3e3,color:"danger",icon:"alert-circle-outline"})}finally{i.dismiss(),console.log("=== PROCESO DE GUARDADO FINALIZADO ===")}})()}centerOnCurrentLocation(){var n=this;return(0,p.A)(function*(){const t=yield n.utilsSvc.loading();yield t.present();try{const e=yield n.geolocationSvc.getCurrentPosition(),i={lat:e.coords.latitude,lng:e.coords.longitude};n.googleMapsSvc.isMobile()&&n.map instanceof m.u6?(yield n.map.setCamera({coordinate:i,zoom:16,animate:!0}),n.markerId&&(yield n.map.removeMarker(n.markerId)),n.markerId=yield n.map.addMarker({coordinate:i,draggable:!0})):n.webMap&&n.webMarker&&(n.webMap.setCenter(i),n.webMap.setZoom(16),n.webMarker.setPosition(i),n.webMarker.setIcon(n.googleMapsSvc.getCustomMarkerIcon("#22c55e"))),n.selectedLocation=i,n.utilsSvc.presentToast({message:"Mapa centrado en tu ubicaci\xf3n actual",duration:1500,color:"primary",icon:"navigate-circle-outline"})}catch(e){console.error("Error al obtener ubicaci\xf3n:",e),n.utilsSvc.presentToast({message:"No se pudo obtener tu ubicaci\xf3n actual",duration:2e3,color:"warning",icon:"warning-outline"})}finally{t.dismiss()}})()}}return(a=d).\u0275fac=function(n){return new(n||a)},a.\u0275cmp=o.VBU({type:a,selectors:[["app-direccion"]],viewQuery:function(n,t){if(1&n&&o.GBs(y,5),2&n){let e;o.mGM(e=o.lsd())&&(t.mapContainer=e.first)}},decls:32,vars:9,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","main/profile"],[2,"display","inline-flex"],["src","../../../../assets/img/Logo.png","alt","Logo de Mi Tortiller\xeda",2,"width","85px","margin-top","10px","margin-bottom","10px","margin-left","10px","border-radius","50%"],[1,"admin"],["class","loading-container",4,"ngIf"],[1,"map-container"],["id","map",2,"width","100%","height","100%"],[1,"map-overlay"],["class","location-info-card",4,"ngIf"],["class","floating-instructions",4,"ngIf"],["vertical","top","horizontal","end",1,"center-location-fab"],["size","small","color","success",3,"click"],["name","navigate"],[1,"save-location-card"],[1,"save-card"],[1,"save-button-content",3,"click"],[1,"save-icon"],["name","checkmark-circle"],[1,"save-text"],[1,"save-title"],[1,"save-subtitle"],[1,"loading-container"],[1,"loading-content"],["name","bubbles","color","primary"],[1,"location-info-card"],[1,"location-info"],["name","location","color","primary"],[1,"coordinates"],[1,"floating-instructions"],[1,"instructions-card"],[1,"instructions-content"],["name","hand-left","color","primary"]],template:function(n,t){1&n&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o.nrm(3,"ion-back-button",3),o.k0s(),o.j41(4,"div",4),o.nrm(5,"img",5),o.j41(6,"ion-title")(7,"strong"),o.EFF(8,"Direcci\xf3n"),o.k0s(),o.j41(9,"div",6),o.EFF(10,"Tortilleria Plata Jaimes"),o.k0s()()()()(),o.j41(11,"ion-content"),o.DNE(12,k,5,0,"div",7),o.j41(13,"div",8),o.nrm(14,"capacitor-google-map",9),o.j41(15,"div",10),o.DNE(16,D,15,8,"ion-card",11)(17,w,7,0,"div",12),o.j41(18,"ion-fab",13)(19,"ion-fab-button",14),o.bIt("click",function(){return t.centerOnCurrentLocation()}),o.nrm(20,"ion-icon",15),o.k0s()(),o.j41(21,"div",16)(22,"ion-card",17)(23,"ion-card-content")(24,"div",18),o.bIt("click",function(){return t.saveLocation()}),o.j41(25,"div",19),o.nrm(26,"ion-icon",20),o.k0s(),o.j41(27,"div",21)(28,"p",22),o.EFF(29),o.k0s(),o.j41(30,"p",23),o.EFF(31),o.k0s()()()()()()()()()),2&n&&(o.R7$(12),o.Y8G("ngIf",t.isLoading),o.R7$(),o.xc7("opacity",t.isLoading?"0":"1"),o.R7$(3),o.Y8G("ngIf",t.selectedLocation),o.R7$(),o.Y8G("ngIf",!t.selectedLocation),o.R7$(7),o.AVh("disabled",t.isLoading),o.R7$(5),o.JRh(t.buttonTitle),o.R7$(2),o.JRh(t.selectedLocation?"Toca para guardar la ubicaci\xf3n":"Selecciona una ubicaci\xf3n en el mapa"))},dependencies:[M.bT,l.QW,l.b_,l.I9,l.W9,l.Q8,l.YW,l.eU,l.iq,l.w2,l.BC,l.ai,l.el,M.QX],styles:['ion-content[_ngcontent-%COMP%]{--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0;--background: "transparent"}.loading-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:#ffffffe6;z-index:1000}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]{text-align:center}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{width:40px;height:40px;margin-bottom:16px}.loading-container[_ngcontent-%COMP%]   .loading-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium);font-weight:500}.map-container[_ngcontent-%COMP%]{position:relative;height:calc(100vh - 106px);width:100%;overflow:hidden;background:transparent!important}.map-container[_ngcontent-%COMP%]   #map[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:0}.map-container[_ngcontent-%COMP%]   capacitor-google-map[_ngcontent-%COMP%]{width:100%;height:100%;touch-action:auto;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:12px;overflow:hidden;box-shadow:0 4px 20px #0000001a}.map-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:10}.map-overlay[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{pointer-events:auto}.location-info-card[_ngcontent-%COMP%]{position:absolute;top:20px;left:16px;max-width:280px;background:#fff!important;margin:0;box-shadow:0 4px 16px #00000026;border-radius:12px}.location-info-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:12px 16px}.location-info-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.location-info-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:24px;flex-shrink:0}.location-info-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   .coordinates[_ngcontent-%COMP%]{flex:1}.location-info-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   .coordinates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:14px;color:var(--ion-color-medium)}.location-info-card[_ngcontent-%COMP%]   .location-info[_ngcontent-%COMP%]   .coordinates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:var(--ion-color-dark)}.floating-instructions[_ngcontent-%COMP%]{position:absolute;top:80px;right:16px;z-index:20;max-width:280px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]{margin:0;background:#000c;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);border-radius:16px;box-shadow:0 8px 32px #0000004d;border:1px solid rgba(255,255,255,.2)}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:16px 20px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;text-align:center}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px;animation:_ngcontent-%COMP%_bounce 2s infinite}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:600;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.5)}@keyframes _ngcontent-%COMP%_bounce{0%,20%,50%,80%,to{transform:translateY(0)}40%{transform:translateY(-10px)}60%{transform:translateY(-5px)}}.center-location-fab[_ngcontent-%COMP%]{position:absolute;top:20px;right:16px;z-index:15}.center-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--box-shadow: 0 4px 16px rgba(34, 197, 94, .3);--background: var(--ion-color-success)}.center-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]:hover{--background: var(--ion-color-success-shade);transform:scale(1.05)}.save-location-card[_ngcontent-%COMP%]{position:absolute;bottom:20px;left:50%;transform:translate(-50%);z-index:15;max-width:400px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]{margin:0;background:#fffffff2!important;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-radius:50px;box-shadow:0 12px 40px #22c55e4d;border:2px solid var(--ion-color-success);overflow:hidden}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:0}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 20px;cursor:pointer;transition:all .3s ease}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]:hover{background:#22c55e1a;transform:scale(1.02)}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]:active{transform:scale(.98)}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content.disabled[_ngcontent-%COMP%]{opacity:.6;cursor:not-allowed}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content.disabled[_ngcontent-%COMP%]:hover{background:transparent;transform:none}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:var(--ion-color-success);display:flex;align-items:center;justify-content:center;flex-shrink:0}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:#fff;font-size:24px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]{flex:1}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:var(--ion-color-dark);margin:0;line-height:1.2}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--ion-color-medium);margin:2px 0 0;line-height:1.2}.save-location-fab[_ngcontent-%COMP%]{position:absolute;bottom:120px;left:50%;transform:translate(-50%);z-index:15;display:none}.save-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]{--box-shadow: 0 8px 32px rgba(34, 197, 94, .4);--background: var(--ion-color-success);width:64px;height:64px}.save-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.save-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]:hover{--background: var(--ion-color-success-shade);transform:scale(1.1)}.save-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]:active{transform:scale(.95)}.save-location-fab[_ngcontent-%COMP%]   ion-fab-button[_ngcontent-%COMP%]:disabled{--background: var(--ion-color-medium);--box-shadow: 0 4px 16px rgba(0, 0, 0, .1)}.save-button-label[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.map-container[_ngcontent-%COMP%]{height:calc(100vh - 160px)}.location-info-card[_ngcontent-%COMP%]{left:8px;top:8px;max-width:calc(100% - 80px)}.center-location-fab[_ngcontent-%COMP%]{top:8px;right:8px}.save-location-card[_ngcontent-%COMP%]{bottom:15px;left:10px;right:10px;transform:none;max-width:none}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]{border-radius:20px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]{padding:16px 20px;gap:16px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]{width:48px;height:48px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:28px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{font-size:18px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-subtitle[_ngcontent-%COMP%]{font-size:14px}.floating-instructions[_ngcontent-%COMP%]{top:60px;right:8px;max-width:calc(100% - 80px)}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]{margin:0;border-radius:12px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:8px 12px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]{gap:8px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;line-height:1.2}}@media (max-width: 480px){.map-container[_ngcontent-%COMP%]{height:calc(100vh - 100px)}.floating-instructions[_ngcontent-%COMP%]{top:55px;right:6px;max-width:calc(100% - 70px)}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]{border-radius:10px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:6px 10px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]{gap:6px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]   .instructions-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;line-height:1.1}.save-location-card[_ngcontent-%COMP%]{bottom:10px;left:8px;right:8px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]{padding:14px 16px;gap:12px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]{width:44px;height:44px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:26px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{font-size:16px}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-subtitle[_ngcontent-%COMP%]{font-size:13px}}.admin[_ngcontent-%COMP%]{font-size:14px;font-weight:400;opacity:.8;margin-top:2px}@media (prefers-color-scheme: dark){.location-info-card[_ngcontent-%COMP%], .floating-instructions[_ngcontent-%COMP%]   .instructions-card[_ngcontent-%COMP%]{background:var(--ion-color-step-100)}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]{background:#202020f2;border-color:var(--ion-color-success)}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-title[_ngcontent-%COMP%]{color:#fff}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]   .save-text[_ngcontent-%COMP%]   .save-subtitle[_ngcontent-%COMP%]{color:var(--ion-color-medium)}.save-location-card[_ngcontent-%COMP%]   .save-card[_ngcontent-%COMP%]   .save-button-content[_ngcontent-%COMP%]:hover{background:#22c55e33}.loading-container[_ngcontent-%COMP%]{background:#000000e6}}']}),d})()}];let E=(()=>{var a;class d{}return(a=d).\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[f.iI.forChild(I),f.iI]}),d})();var L=s(7383);let S=(()=>{var a;class d{}return(a=d).\u0275fac=function(n){return new(n||a)},a.\u0275mod=o.$C({type:a}),a.\u0275inj=o.G2t({imports:[M.MD,O.YN,l.bv,E,L.G]}),d})()}}]);