"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1192],{1192:(G,d,s)=>{s.r(d),s.d(d,{ForgotPasswordPageModule:()=>x});var c=s(177),l=s(9417),i=s(5933),m=s(8265),p=s(467),o=s(4438),v=s(7517),P=s(2723),F=s(8827),h=s(5621);function b(r,n){1&r&&(o.j41(0,"div"),o.EFF(1," El correo es requerido "),o.k0s())}function w(r,n){1&r&&(o.j41(0,"div"),o.EFF(1," Ingresa un correo v\xe1lido "),o.k0s())}function y(r,n){1&r&&(o.j41(0,"div"),o.EFF(1," M\xe1ximo 30 caracteres "),o.k0s())}function E(r,n){if(1&r&&(o.j41(0,"div",14),o.DNE(1,b,2,0,"div",15)(2,w,2,0,"div",15)(3,y,2,0,"div",15),o.k0s()),2&r){const a=o.XpG();o.R7$(),o.Y8G("ngIf",null==a.form.controls.email.errors?null:a.form.controls.email.errors.required),o.R7$(),o.Y8G("ngIf",null==a.form.controls.email.errors?null:a.form.controls.email.errors.email),o.R7$(),o.Y8G("ngIf",null==a.form.controls.email.errors?null:a.form.controls.email.errors.maxlength)}}const T=[{path:"",component:(()=>{var r;class n{constructor(){this.form=new l.gE({email:new l.MJ("",[l.k0.required,l.k0.email,l.k0.maxLength(30)])}),this.firebaseSvc=(0,o.WQX)(v.f),this.utilSvc=(0,o.WQX)(P.T)}ngOnInit(){}onEmailInput(t){const e=t.target;e.value.length>30&&(e.value=e.value.slice(0,30),this.form.controls.email.setValue(e.value))}submit(){var t=this;return(0,p.A)(function*(){if(t.form.valid){const e=t.form.value.email,u=yield t.utilSvc.loading();if(yield u.present(),!(yield t.firebaseSvc.checkEmailExists(e)))return t.utilSvc.presentToast({message:"El correo no est\xe1 registrado",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"}),void u.dismiss();t.firebaseSvc.sendRecoveryEmail(e).then(f=>{t.utilSvc.presentToast({message:"Correo enviado con \xe9xito",duration:1500,color:"primary",position:"bottom",icon:"mail-outline"}),t.utilSvc.routerLink("/auth"),t.form.reset()}).catch(f=>{t.utilSvc.presentToast({message:f.message,duration:2500,color:"primary",position:"bottom",icon:"alert-circle-outline"})}).finally(()=>{u.dismiss()})}})()}}return(r=n).\u0275fac=function(t){return new(t||r)},r.\u0275cmp=o.VBU({type:r,selectors:[["app-forgot-password"]],decls:22,vars:4,consts:[[1,"ion-no-border"],["color","primary"],["slot","start"],["defaultHref","/auth","routerLink","/auth","routerDirection","root"],[2,"display","inline-flex"],["src","../../../../assets/img/Logo.png","alt","",2,"width","85px","margin-top","10px","margin-bottom","10px","margin-left","10px","border-radius","50%"],[1,"admin"],[1,"d-flex-center"],[1,"auth-form",3,"ngSubmit","keypress.enter","formGroup"],[1,"ion-text-center"],["autocomplete","email","icon","mail-outline","type","email","label","correo","maxlength","30",3,"input","control"],["class","validators",4,"ngIf"],["expand","block","mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","arrow-forward"],[1,"validators"],[4,"ngIf"]],template:function(t,e){1&t&&(o.j41(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),o.nrm(3,"ion-back-button",3),o.k0s(),o.j41(4,"div",4),o.nrm(5,"img",5),o.j41(6,"ion-title")(7,"strong"),o.EFF(8,"Recuperar contrase\xf1a"),o.k0s(),o.j41(9,"div",6),o.EFF(10,"Tortilleria Plata Jaimes"),o.k0s()()()()(),o.j41(11,"ion-content")(12,"div",7)(13,"form",8),o.bIt("ngSubmit",function(){return e.submit()})("keypress.enter",function(){return e.submit()}),o.nrm(14,"app-logo"),o.j41(15,"p",9),o.EFF(16,"Te enviaremos un email para que puedas reestablecer tu contrase\xf1a"),o.k0s(),o.j41(17,"app-custom-input",10),o.bIt("input",function(g){return e.onEmailInput(g)}),o.k0s(),o.DNE(18,E,4,3,"div",11),o.j41(19,"ion-button",12),o.EFF(20," Recuperar "),o.nrm(21,"ion-icon",13),o.k0s()()()()),2&t&&(o.R7$(13),o.Y8G("formGroup",e.form),o.R7$(4),o.Y8G("control",e.form.controls.email),o.R7$(),o.Y8G("ngIf",e.form.controls.email.touched),o.R7$(),o.Y8G("disabled",e.form.invalid))},dependencies:[c.bT,l.qT,l.cb,i.Jm,i.QW,i.W9,i.eU,i.iq,i.BC,i.ai,i.el,i.N7,m.Wk,F.H,h.Z,l.j4]}),n})()}];let j=(()=>{var r;class n{}return(r=n).\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.$C({type:r}),r.\u0275inj=o.G2t({imports:[m.iI.forChild(T),m.iI]}),n})();var k=s(7383);let x=(()=>{var r;class n{}return(r=n).\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.$C({type:r}),r.\u0275inj=o.G2t({imports:[c.MD,l.YN,i.bv,j,k.G]}),n})()}}]);