"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8018],{5637:(F,P,p)=>{p.r(P),p.d(P,{CuponesPageModule:()=>J});var c=p(177),l=p(9417),a=p(5933),C=p(8265),m=p(467),n=p(4438),b=p(7517),u=p(2723),_=p(8461),f=p(8827);function h(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"Este campo es requerido"),n.k0s())}function g(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"El nombre debe tener al menos 4 caracteres"),n.k0s())}function y(t,s){if(1&t&&(n.j41(0,"div",9),n.DNE(1,h,2,0,"div",10)(2,g,2,0,"div",10),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.descripcion.errors?null:r.form.controls.descripcion.errors.required),n.R7$(),n.Y8G("ngIf",null==r.form.controls.descripcion.errors?null:r.form.controls.descripcion.errors.minlength)}}function j(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"Este campo es requerido"),n.k0s())}function w(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"El nombre debe tener al menos 4 caracteres"),n.k0s())}function T(t,s){if(1&t&&(n.j41(0,"div",9),n.DNE(1,j,2,0,"div",10)(2,w,2,0,"div",10),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.codigo.errors?null:r.form.controls.codigo.errors.required),n.R7$(),n.Y8G("ngIf",null==r.form.controls.descripcion.errors?null:r.form.controls.descripcion.errors.minlength)}}function E(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"Este campo es requerido"),n.k0s())}function I(t,s){if(1&t&&(n.j41(0,"div",9),n.DNE(1,E,2,0,"div",10),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.numero_compras.errors?null:r.form.controls.numero_compras.errors.required)}}function O(t,s){1&t&&(n.j41(0,"div"),n.EFF(1,"Este campo es requerido"),n.k0s())}function G(t,s){if(1&t&&(n.j41(0,"div",9),n.DNE(1,O,2,0,"div",10),n.k0s()),2&t){const r=n.XpG();n.R7$(),n.Y8G("ngIf",null==r.form.controls.porcentaje.errors?null:r.form.controls.porcentaje.errors.required)}}let M=(()=>{var t;class s{constructor(){this.cupon=null,this.form=new l.gE({uid:new l.MJ(""),descripcion:new l.MJ("",[l.k0.required,l.k0.minLength(4)]),codigo:new l.MJ("",[l.k0.required,l.k0.minLength(4)]),porcentaje:new l.MJ(null,[l.k0.required]),numero_compras:new l.MJ(null,[l.k0.required])}),this.firebaseSvc=(0,n.WQX)(b.f),this.utilSvc=(0,n.WQX)(u.T)}ngOnInit(){this.cupon&&this.form.patchValue({...this.cupon})}submit(){var e=this;return(0,m.A)(function*(){e.form.valid?e.cupon?yield e.updateCupon():yield e.createCupon():e.utilSvc.presentToast({message:"Por favor, completa todos los campos requeridos.",duration:2e3,color:"warning",position:"top"})})()}createCupon(){var e=this;return(0,m.A)(function*(){const o=yield e.utilSvc.loading();yield o.present();try{const i={...e.form.value};yield e.firebaseSvc.addDocumentWithUid("cupones",i),e.utilSvc.presentToast({message:"Cup\xf3n creado exitosamente.",duration:1500,color:"success"}),e.utilSvc.dismissModal({success:!0})}catch(i){e.utilSvc.presentToast({message:"Error al crear cup\xf3n.",duration:2e3,color:"danger"}),console.error(i)}finally{o.dismiss()}})()}updateCupon(){var e=this;return(0,m.A)(function*(){const o=yield e.utilSvc.loading();yield o.present();try{var i;const k=`cupones/${null===(i=e.form.get("uid"))||void 0===i?void 0:i.value}`,v={...e.form.value};delete v.uid,yield e.firebaseSvc.updateDocumet(k,v),e.utilSvc.presentToast({message:"Cup\xf3n actualizado exitosamente.",duration:1500,color:"success"}),e.utilSvc.dismissModal({success:!0})}catch(d){e.utilSvc.presentToast({message:"Error al actualizar cup\xf3n.",duration:2e3,color:"danger"}),console.error(d)}finally{o.dismiss()}})()}}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.VBU({type:t,selectors:[["app-add-update-cupon"]],inputs:{cupon:"cupon"},decls:14,vars:13,consts:[[3,"isModal","title"],[1,"ion-padding","ion-text-center",3,"ngSubmit","keypress.enter","formGroup"],["autocomplete","descripcion","type","text","label","Descripci\xf3n",3,"control"],["class","validators",4,"ngIf"],["autocomplete","codigo","type","text","label","Cod\xedgo",3,"control"],["autocomplete","numero_compras","type","number","label","N\xfamero de compras minimas",3,"control"],["autocomplete","off","autocorrect","off","type","number","label","Porcentaje",3,"control"],["mode","ios","type","submit",1,"submit",3,"disabled"],["slot","end","name","checkmark-circle-outline"],[1,"validators"],[4,"ngIf"]],template:function(e,o){1&e&&(n.nrm(0,"app-header",0),n.j41(1,"ion-content")(2,"form",1),n.bIt("ngSubmit",function(){return o.submit()})("keypress.enter",function(){return o.submit()}),n.nrm(3,"app-custom-input",2),n.DNE(4,y,3,2,"div",3),n.nrm(5,"app-custom-input",4),n.DNE(6,T,3,2,"div",3),n.nrm(7,"app-custom-input",5),n.DNE(8,I,2,1,"div",3),n.nrm(9,"app-custom-input",6),n.DNE(10,G,2,1,"div",3),n.j41(11,"ion-button",7),n.EFF(12),n.nrm(13,"ion-icon",8),n.k0s()()()),2&e&&(n.Y8G("isModal",!0)("title",o.cupon?"Actualizar cup\xf3n":"Agregar cup\xf3n"),n.R7$(2),n.Y8G("formGroup",o.form),n.R7$(),n.Y8G("control",o.form.controls.descripcion),n.R7$(),n.Y8G("ngIf",o.form.controls.descripcion.errors&&o.form.controls.descripcion.touched),n.R7$(),n.Y8G("control",o.form.controls.codigo),n.R7$(),n.Y8G("ngIf",o.form.controls.codigo.errors&&o.form.controls.codigo.touched),n.R7$(),n.Y8G("control",o.form.controls.numero_compras),n.R7$(),n.Y8G("ngIf",o.form.controls.numero_compras.errors&&o.form.controls.numero_compras.touched),n.R7$(),n.Y8G("control",o.form.controls.porcentaje),n.R7$(),n.Y8G("ngIf",o.form.controls.porcentaje.errors&&o.form.controls.porcentaje.touched),n.R7$(),n.Y8G("disabled",o.form.invalid),n.R7$(),n.SpI(" ",o.cupon?"Actualizar cup\xf3n":"Agregar cup\xf3n"," "))},dependencies:[c.bT,a.Jm,a.W9,a.iq,l.qT,l.cb,l.j4,_.l,f.H]}),s})();var N=p(6585);function D(t,s){1&t&&(n.j41(0,"span"),n.EFF(1,"Enviar"),n.k0s())}function R(t,s){1&t&&n.nrm(0,"ion-spinner",12)}let x=(()=>{var t;class s{constructor(e,o,i){this.modalCtrl=e,this.notificationsPushSvc=o,this.utilsSvc=i,this.loading=!1}ngOnInit(){}sendNotification(){var e=this;return(0,m.A)(function*(){if(e.notificationForm.valid){e.loading=!0;const{title:o,message:i}=e.notificationForm.value;try{yield e.notificationsPushSvc.sendPushNotification(o,i),e.utilsSvc.presentToast({message:"Notificaci\xf3n enviada exitosamente.",duration:1500,color:"success",position:"bottom",icon:"send-outline"}),e.notificationForm.reset(),e.close()}catch{e.utilsSvc.presentToast({message:"Error al enviar la notificaci\xf3n.",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}e.loading=!1}})()}close(){this.modalCtrl.dismiss({sent:!0})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.rXU(a.W3),n.rXU(N.e),n.rXU(u.T))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-notification-modal"]],inputs:{notificationForm:"notificationForm"},decls:21,vars:4,consts:[["color","primary"],["slot","end"],[3,"click"],["name","close-outline"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","title"],["formControlName","message"],["expand","block","color","success","type","submit",1,"modern-send-btn",3,"disabled"],["name","send"],[4,"ngIf"],["name","dots",4,"ngIf"],["name","dots"]],template:function(e,o){1&e&&(n.j41(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-title"),n.EFF(3,"Enviar notificaci\xf3n push"),n.k0s(),n.j41(4,"ion-buttons",1)(5,"ion-button",2),n.bIt("click",function(){return o.close()}),n.nrm(6,"ion-icon",3),n.k0s()()()(),n.j41(7,"ion-content")(8,"form",4),n.bIt("ngSubmit",function(){return o.sendNotification()}),n.j41(9,"ion-item")(10,"ion-label",5),n.EFF(11,"T\xedtulo"),n.k0s(),n.nrm(12,"ion-input",6),n.k0s(),n.j41(13,"ion-item")(14,"ion-label",5),n.EFF(15,"Mensaje"),n.k0s(),n.nrm(16,"ion-textarea",7),n.k0s(),n.j41(17,"ion-button",8),n.nrm(18,"ion-icon",9),n.DNE(19,D,2,0,"span",10)(20,R,1,0,"ion-spinner",11),n.k0s()()()),2&e&&(n.R7$(8),n.Y8G("formGroup",o.notificationForm),n.R7$(9),n.Y8G("disabled",!o.notificationForm.valid||o.loading),n.R7$(2),n.Y8G("ngIf",!o.loading),n.R7$(),n.Y8G("ngIf",o.loading))},dependencies:[c.bT,a.Jm,a.QW,a.W9,a.eU,a.iq,a.$w,a.uz,a.he,a.w2,a.nc,a.BC,a.ai,a.Gw,l.qT,l.BC,l.cb,l.j4,l.JD],styles:["ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff}ion-content[_ngcontent-%COMP%]{padding:1.5rem;background:#fff;border-radius:0 0 18px 18px}ion-item[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:1rem;box-shadow:0 1px 4px #1ad43614}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{background:#f4fff4;border-radius:6px;padding:8px;font-size:16px}.modern-send-btn[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;box-shadow:0 2px 8px #1ad4361f;background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff;border:none}"]}),s})();var $=p(1626);function S(t,s){if(1&t){const r=n.RV6();n.j41(0,"ion-input",28),n.mxI("ngModelChange",function(o){n.eBV(r);const i=n.XpG(2).$implicit,d=n.XpG().$implicit;return n.DH7(d[i.key],o)||(d[i.key]=o),n.Njj(o)}),n.bIt("keyup.enter",function(){n.eBV(r);const o=n.XpG(4);return n.Njj(o.finishEditing())})("blur",function(){n.eBV(r);const o=n.XpG(4);return n.Njj(o.finishEditing())}),n.k0s()}if(2&t){const r=n.XpG(2).$implicit,e=n.XpG().$implicit;n.R50("ngModel",e[r.key])}}function A(t,s){if(1&t&&(n.j41(0,"span"),n.EFF(1),n.k0s()),2&t){const r=n.XpG(2).$implicit,e=n.XpG().$implicit;n.R7$(),n.SpI(" ",e[r.key]," ")}}function U(t,s){if(1&t&&(n.j41(0,"ion-col",26),n.DNE(1,S,1,1,"ion-input",27)(2,A,2,1,"span",11),n.k0s()),2&t){const r=n.XpG().$implicit,e=n.XpG().$implicit,o=n.XpG();n.R7$(),n.Y8G("ngIf",o.editingFieldKey===r.key&&o.editingField===e),n.R7$(),n.Y8G("ngIf",!(o.editingFieldKey===r.key&&o.editingField===e))}}function X(t,s){if(1&t&&(n.qex(0),n.DNE(1,U,3,2,"ion-col",25),n.bVm()),2&t){const r=s.$implicit,e=n.XpG(2);n.R7$(),n.Y8G("ngIf",e.shouldShowField(r.key))}}function Y(t,s){if(1&t){const r=n.RV6();n.j41(0,"ion-row",17),n.DNE(1,X,2,1,"ng-container",18),n.j41(2,"ion-col")(3,"ion-button",19),n.bIt("click",function(){const o=n.eBV(r).$implicit,i=n.XpG();return n.Njj(i.editItem(o))}),n.nrm(4,"ion-icon",20),n.k0s(),n.j41(5,"ion-button",21),n.bIt("click",function(){const o=n.eBV(r).$implicit,i=n.XpG();return n.Njj(i.deleteItem(o))}),n.nrm(6,"ion-icon",22),n.k0s(),n.j41(7,"ion-button",23),n.bIt("click",function(){const o=n.eBV(r).$implicit,i=n.XpG();return n.Njj(i.openNotificationModalForCupon(o))}),n.nrm(8,"ion-icon",24),n.EFF(9," Notificar "),n.k0s()()()}if(2&t){const r=n.XpG();n.R7$(),n.Y8G("ngForOf",r.fields)}}function z(t,s){if(1&t){const r=n.RV6();n.j41(0,"ion-modal")(1,"ion-header")(2,"ion-toolbar")(3,"ion-title"),n.EFF(4,"Enviar notificaci\xf3n push"),n.k0s(),n.j41(5,"ion-buttons",29)(6,"ion-button",6),n.bIt("click",function(){n.eBV(r);const o=n.XpG();return n.Njj(o.closeNotificationModal())}),n.nrm(7,"ion-icon",30),n.k0s()()()(),n.j41(8,"ion-content")(9,"form",31),n.bIt("ngSubmit",function(){n.eBV(r);const o=n.XpG();return n.Njj(o.sendNotification())}),n.j41(10,"ion-item")(11,"ion-label",32),n.EFF(12,"T\xedtulo"),n.k0s(),n.nrm(13,"ion-input",33),n.k0s(),n.j41(14,"ion-item")(15,"ion-label",32),n.EFF(16,"Mensaje"),n.k0s(),n.nrm(17,"ion-textarea",34),n.k0s(),n.j41(18,"ion-button",35),n.nrm(19,"ion-icon",36),n.EFF(20," Enviar "),n.k0s()()()()}if(2&t){const r=n.XpG();n.R7$(9),n.Y8G("formGroup",r.notificationForm),n.R7$(9),n.Y8G("disabled",!r.notificationForm.valid)}}const B=[{path:"",component:(()=>{var t;class s{constructor(e,o,i,d,k,v,K){this.modalCtrl=e,this.formBuilder=o,this.cdr=i,this.firebaseService=d,this.alertController=k,this.ionicModalCtrl=v,this.http=K,this.data=[],this.isModalOpen=!1,this.filteredData=[...this.data],this.editingField=null,this.editingFieldKey="",this.searchTerm="",this.utilsSvc=(0,n.WQX)(u.T),this.areColumnsVisible=!1,this.paginatedData=[],this.currentPage=1,this.itemsPerPage=10,this.totalPages=0,this.showDescripcion=!1,this.showPorcentaje=!1,this.showNumeroCompras=!1,this.showCodigo=!1,this.firebaseSvc=(0,n.WQX)(b.f),this.isNotificationModalOpen=!1,this.selectedCupon=null,this.fields=[{key:"descripcion",label:"Descripcion"},{key:"numero_compras",label:"N\xfamero de compras minimas"},{key:"porcentaje",label:"Porcentaje"},{key:"codigo",label:"Cod\xedgo"}],this.setPage(1),this.cuponForm=this.formBuilder.group({uid:[""],descripcion:[""],numero_compras:[""],porcentaje:[""],codigo:[""]}),this.notificationForm=this.formBuilder.group({title:["",l.k0.required],message:["",l.k0.required]})}ngOnInit(){this.getCupones()}doRefresh(e){setTimeout(()=>{e.target.complete()},1e3)}filterItems(e){const o=e.target.value.toLowerCase();this.paginatedData=this.data.filter(i=>Object.values(i).some(d=>d.toString().toLowerCase().includes(o))),this.cdr.detectChanges()}sortTable(e){this.paginatedData.sort((o,i)=>o[e]<i[e]?-1:o[e]>i[e]?1:0),this.cdr.detectChanges()}editField(e,o){this.editingField=e,this.editingFieldKey=o}finishEditing(){this.editingField=null,this.editingFieldKey=null}deleteItem(e){this.presentConfirmDeleteAlert(e)}presentConfirmDeleteAlert(e){var o=this;return(0,m.A)(function*(){yield(yield o.alertController.create({header:"Confirmaci\xf3n",message:`\xbfEst\xe1s seguro de que deseas eliminar el ${e.descripcion}?`,buttons:[{text:"Cancelar",role:"cancel",handler:()=>{o.utilsSvc.presentToast({message:"Eliminaci\xf3n cancelada.",duration:1500,color:"warning",position:"bottom",icon:"alert-circle-outline"})}},{text:"Eliminar",role:"destructive",handler:()=>{o.confirmDeleteItem(e)}}]})).present()})()}confirmDeleteItem(e){const o=this.data.findIndex(i=>i.uid===e.uid);o>-1?(this.data.splice(o,1),this.paginatedData=[...this.data],this.setPage(1),this.cdr.detectChanges(),this.firebaseSvc.deleteDocumet(`cupones/${e.uid}`).then(()=>{this.utilsSvc.presentToast({message:"Cup\xf3n eliminado exitosamente.",duration:1500,color:"success",position:"bottom",icon:"checkmark-circle-outline"}),console.log("Documento eliminado de Firestore")}).catch(d=>{this.utilsSvc.presentToast({message:"Error al eliminar el cup\xf3n.",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"}),console.error("Error al eliminar el documento: ",d)})):this.utilsSvc.presentToast({message:"Cup\xf3n no encontrado en la lista.",duration:2500,color:"danger",position:"bottom",icon:"alert-circle-outline"})}editItem(e){var o=this;return(0,m.A)(function*(){try{const i=yield o.modalCtrl.create({component:M,componentProps:{cupon:e}});i.onDidDismiss().then(d=>{d.data&&o.getCupones()}),yield i.present()}catch(i){console.error("Error al editar el cup\xf3n:",i)}})()}openAddCuponModal(){var e=this;return(0,m.A)(function*(){const o=yield e.modalCtrl.create({component:M,componentProps:{cuponForm:e.cuponForm}});return o.onDidDismiss().then(i=>{i.data&&(e.paginatedData=[...e.data],e.cdr.detectChanges())}),yield o.present()})()}openNotificationModal(){var e=this;return(0,m.A)(function*(){e.isNotificationModalOpen=!0;const o=yield e.ionicModalCtrl.create({component:x,componentProps:{notificationForm:e.notificationForm}});return o.onDidDismiss().then(i=>{e.isNotificationModalOpen=!1,i.data&&i.data.length>0&&e.utilsSvc.presentToast({message:"Notificaci\xf3n enviada.",duration:1500,color:"primary",position:"bottom",icon:"send-outline"})}),yield o.present()})()}sendNotification(){}closeNotificationModal(){this.ionicModalCtrl.dismiss(),this.isNotificationModalOpen=!1}openNotificationModalForCupon(e){var o=this;return(0,m.A)(function*(){o.selectedCupon=e,o.notificationForm.patchValue({title:`\xa1Oferta especial! ${e.descripcion}`,message:`Cup\xf3n: ${e.codigo} - ${e.porcentaje}% de descuento en compras m\xednimas de ${e.numero_compras}.`}),o.isNotificationModalOpen=!0;const i=yield o.ionicModalCtrl.create({component:x,componentProps:{notificationForm:o.notificationForm}});return i.onDidDismiss().then(d=>{o.isNotificationModalOpen=!1,o.selectedCupon=null,d.data&&d.data.length>0&&o.utilsSvc.presentToast({message:"Notificaci\xf3n enviada.",duration:1500,color:"primary",position:"bottom",icon:"send-outline"})}),yield i.present()})()}setPage(e){this.currentPage=e;const o=(e-1)*this.itemsPerPage;this.paginatedData=this.data.slice(o,o+this.itemsPerPage),this.totalPages=Math.ceil(this.data.length/this.itemsPerPage)}previousPage(){this.currentPage>1&&this.setPage(this.currentPage-1)}nextPage(){this.currentPage<this.totalPages&&this.setPage(this.currentPage+1)}toggleColumns(){this.showDescripcion=!this.showDescripcion,this.showNumeroCompras=!this.showNumeroCompras,this.showPorcentaje=!this.showPorcentaje,this.showCodigo=!this.showCodigo,this.areColumnsVisible=!this.areColumnsVisible}shouldShowField(e){return!0}getCupones(){this.firebaseService.obtenerColeccion("cupones").subscribe(e=>{this.data=e.map(o=>({uid:o.uid,descripcion:o.descripcion,numero_compras:o.numero_compras,porcentaje:o.porcentaje,codigo:o.codigo})),this.paginatedData=[...this.data],this.setPage(1)})}}return(t=s).\u0275fac=function(e){return new(e||t)(n.rXU(a.W3),n.rXU(l.ok),n.rXU(n.gRc),n.rXU(b.f),n.rXU(a.hG),n.rXU(a.W3),n.rXU($.Qq))},t.\u0275cmp=n.VBU({type:t,selectors:[["app-cupones"]],decls:39,vars:8,consts:[["title","Cupones",3,"showMenu"],[1,"ion-padding-top","ion-text-center"],["slot","fixed",3,"ionRefresh"],["size","8"],["placeholder","Buscar cupones...",3,"ngModelChange","ionInput","ngModel"],["size","4",1,"ion-text-right"],[3,"click"],["name","add-circle-outline"],[1,"table-header"],[1,"header-row"],["class","data-row",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pagination"],["color","light","expand","full",1,"pagination-button",3,"click","disabled"],["slot","start","name","arrow-back"],[1,"pagination-info"],["slot","end","name","arrow-forward"],[1,"data-row"],[4,"ngFor","ngForOf"],["color","warning",3,"click"],["name","create"],["color","danger",3,"click"],["name","trash"],["color","primary",2,"margin-left","0.5rem",3,"click"],["name","send","slot","start"],["class","pointer-on",4,"ngIf"],[1,"pointer-on"],["class","cololetra",3,"ngModel","ngModelChange","keyup.enter","blur",4,"ngIf"],[1,"cololetra",3,"ngModelChange","keyup.enter","blur","ngModel"],["slot","end"],["name","close-outline"],[3,"ngSubmit","formGroup"],["position","floating"],["formControlName","title"],["formControlName","message"],["expand","block","color","success","type","submit",1,"modern-send-btn",3,"disabled"],["name","send"]],template:function(e,o){1&e&&(n.nrm(0,"app-header",0),n.j41(1,"ion-content",1)(2,"ion-refresher",2),n.bIt("ionRefresh",function(d){return o.doRefresh(d)}),n.nrm(3,"ion-refresher-content"),n.k0s(),n.j41(4,"h2"),n.EFF(5,"Administraci\xf3n de cupones"),n.k0s(),n.j41(6,"ion-grid")(7,"ion-row")(8,"ion-col",3)(9,"ion-searchbar",4),n.mxI("ngModelChange",function(d){return n.DH7(o.searchTerm,d)||(o.searchTerm=d),d}),n.bIt("ionInput",function(d){return o.filterItems(d)}),n.k0s()(),n.j41(10,"ion-col",5)(11,"ion-button",6),n.bIt("click",function(){return o.openAddCuponModal()}),n.nrm(12,"ion-icon",7),n.EFF(13," Agregar cup\xf3n "),n.k0s()()()(),n.j41(14,"div",8),n.nrm(15,"h2"),n.k0s(),n.j41(16,"ion-grid")(17,"ion-row",9)(18,"ion-col",6),n.bIt("click",function(){return o.sortTable("descripcion")}),n.EFF(19,"Descripci\xf3n"),n.k0s(),n.j41(20,"ion-col",6),n.bIt("click",function(){return o.sortTable("numero_compras")}),n.EFF(21,"N\xfamero de compras minimas"),n.k0s(),n.j41(22,"ion-col",6),n.bIt("click",function(){return o.sortTable("porcentaje")}),n.EFF(23,"Descuento"),n.k0s(),n.j41(24,"ion-col",6),n.bIt("click",function(){return o.sortTable("codigo")}),n.EFF(25,"Cod\xedgo"),n.k0s(),n.j41(26,"ion-col"),n.EFF(27,"Acciones"),n.k0s()(),n.DNE(28,Y,10,1,"ion-row",10),n.k0s(),n.DNE(29,z,21,2,"ion-modal",11),n.j41(30,"div",12)(31,"ion-button",13),n.bIt("click",function(){return o.previousPage()}),n.nrm(32,"ion-icon",14),n.EFF(33," Anterior "),n.k0s(),n.j41(34,"span",15),n.EFF(35),n.k0s(),n.j41(36,"ion-button",13),n.bIt("click",function(){return o.nextPage()}),n.EFF(37," Siguiente "),n.nrm(38,"ion-icon",16),n.k0s()()()),2&e&&(n.Y8G("showMenu",!0),n.R7$(9),n.R50("ngModel",o.searchTerm),n.R7$(19),n.Y8G("ngForOf",o.paginatedData),n.R7$(),n.Y8G("ngIf",o.isNotificationModalOpen),n.R7$(2),n.Y8G("disabled",1===o.currentPage),n.R7$(4),n.Lme("P\xe1gina ",o.currentPage," de ",o.totalPages,""),n.R7$(),n.Y8G("disabled",o.currentPage===o.totalPages))},dependencies:[c.Sq,c.bT,l.qT,l.BC,l.cb,l.vS,a.Jm,a.QW,a.hU,a.W9,a.lO,a.eU,a.iq,a.$w,a.uz,a.he,a.To,a.Ki,a.ln,a.S1,a.nc,a.BC,a.ai,a.Sb,a.Gw,_.l,l.j4,l.JD],styles:['@charset "UTF-8";ion-grid[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;margin-top:20px;padding-left:3rem;padding-right:3rem;box-shadow:0 4px 24px #1ad43614;background:#fff}.header-row[_ngcontent-%COMP%]{background-color:#1ad436;color:#fff;font-weight:700;text-align:center;border-top-left-radius:15px;border-top-right-radius:15px;cursor:pointer;box-shadow:0 2px 8px #1ad4361f;letter-spacing:1px}.data-row[_ngcontent-%COMP%]{background-color:#f9f9f9;border-bottom:1px solid #1ad436;text-align:center;transition:background .2s}.data-row[_ngcontent-%COMP%]:hover{background-color:#e6ffe6}.data-row[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:15px;border-bottom-right-radius:15px}ion-col[_ngcontent-%COMP%]{padding:10px}ion-button[_ngcontent-%COMP%]{margin-top:10px;border-radius:8px;box-shadow:0 2px 8px #1ad4361a;font-weight:600;transition:background .2s,box-shadow .2s}ion-button[color=primary][_ngcontent-%COMP%], .modern-notification-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff;border:none}ion-button[color=success][_ngcontent-%COMP%], .modern-send-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff;border:none}ion-modal[_ngcontent-%COMP%]{--background: #fff;--border-radius: 18px;box-shadow:0 8px 32px #1ad4362e;padding:1.5rem}ion-toolbar[color=primary][_ngcontent-%COMP%]{background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff;border-top-left-radius:18px;border-top-right-radius:18px}ion-item[_ngcontent-%COMP%]{border-radius:8px;margin-bottom:1rem;box-shadow:0 1px 4px #1ad43614}ion-input[_ngcontent-%COMP%], ion-textarea[_ngcontent-%COMP%]{background:#f4fff4;border-radius:6px;padding:8px;font-size:16px}.modern-notification-btn[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:16px;box-shadow:0 2px 8px #1ad4361f}.modern-send-btn[_ngcontent-%COMP%]{margin-top:1rem;font-size:16px;box-shadow:0 2px 8px #1ad4361f}.pagination[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:20px;margin-bottom:3rem;flex-wrap:wrap;background:#f4fff4;border-radius:12px;box-shadow:0 2px 8px #1ad43614}.pagination-button[_ngcontent-%COMP%]{margin:0 5px;flex:1;max-width:150px}.pagination-info[_ngcontent-%COMP%]{font-weight:600;color:#1ad436;margin:0 10px;font-size:16px}.table-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;margin-right:4rem;margin-top:1rem;margin-bottom:1.5rem}.toggle-columns-button[_ngcontent-%COMP%]{font-size:14px;padding:0}.toggle-columns-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.fancy-notification-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#1ad436,#0fae2c);color:#fff;border:none;border-radius:30px;box-shadow:0 4px 16px #1ad4362e;font-size:1rem;font-weight:600;padding:.5rem 1.2rem;transition:transform .15s,box-shadow .15s,background .2s;display:inline-flex;align-items:center;gap:.5rem}.fancy-notification-btn[_ngcontent-%COMP%]:hover, .fancy-notification-btn[_ngcontent-%COMP%]:focus{transform:translateY(-2px) scale(1.04);box-shadow:0 8px 24px #1ad43647;background:linear-gradient(90deg,#0fae2c,#1ad436)}.fancy-btn-text[_ngcontent-%COMP%]{letter-spacing:1px;font-size:1.1rem;font-weight:600}@media (max-width: 768px){ion-grid[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}ion-col[_ngcontent-%COMP%]{font-size:12px;padding:5px}.header-row[_ngcontent-%COMP%]{font-size:14px}.data-row[_ngcontent-%COMP%]{font-size:12px}ion-searchbar[_ngcontent-%COMP%]{width:100%}.pagination[_ngcontent-%COMP%]{flex-direction:column}.modern-notification-btn[_ngcontent-%COMP%], .modern-send-btn[_ngcontent-%COMP%]{font-size:14px}}@media (max-width: 480px){.header-row[_ngcontent-%COMP%], .data-row[_ngcontent-%COMP%]{font-size:10px}ion-button[_ngcontent-%COMP%]{font-size:10px;padding:5px}ion-searchbar[_ngcontent-%COMP%]{width:100%;margin-top:5px}.modern-notification-btn[_ngcontent-%COMP%], .modern-send-btn[_ngcontent-%COMP%]{font-size:12px;padding:6px}}']}),s})()}];let V=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[C.iI.forChild(B),C.iI]}),s})();var W=p(7383);let J=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.$C({type:t}),t.\u0275inj=n.G2t({imports:[c.MD,l.YN,a.bv,V,W.G]}),s})()},8827:(F,P,p)=>{p.d(P,{H:()=>b});var c=p(4438),l=p(177),a=p(5933),C=p(9417);function m(u,_){if(1&u&&c.nrm(0,"ion-icon",4),2&u){const f=c.XpG();c.Y8G("name",f.icon)}}function n(u,_){if(1&u){const f=c.RV6();c.j41(0,"ion-button",5),c.bIt("click",function(){c.eBV(f);const g=c.XpG();return c.Njj(g.showOrHidePassword())}),c.nrm(1,"ion-icon",6),c.k0s()}if(2&u){const f=c.XpG();c.R7$(),c.Y8G("name",f.hide?"eye-outline":"eye-off-outline")}}let b=(()=>{var u;class _{constructor(){this.hide=!0}ngOnInit(){"password"==this.type&&(this.isPassword=!0)}showOrHidePassword(){this.hide=!this.hide,this.type=this.hide?"password":"text"}}return(u=_).\u0275fac=function(h){return new(h||u)},u.\u0275cmp=c.VBU({type:u,selectors:[["app-custom-input"]],inputs:{control:"control",type:"type",label:"label",autocomplete:"autocomplete",icon:"icon"},decls:4,vars:6,consts:[["lines","none",1,"custom-input"],["color","primary","slot","start",3,"name",4,"ngIf"],["label-placement","floating",3,"type","autocomplete","label","formControl"],["slot","end","fill","clear","shape","round",3,"click",4,"ngIf"],["color","primary","slot","start",3,"name"],["slot","end","fill","clear","shape","round",3,"click"],["slot","icon-only",3,"name"]],template:function(h,g){1&h&&(c.j41(0,"ion-item",0),c.DNE(1,m,1,1,"ion-icon",1),c.nrm(2,"ion-input",2),c.DNE(3,n,2,1,"ion-button",3),c.k0s()),2&h&&(c.R7$(),c.Y8G("ngIf",g.icon),c.R7$(),c.Y8G("type",g.type)("autocomplete",g.autocomplete)("label",g.label)("formControl",g.control),c.R7$(),c.Y8G("ngIf",g.isPassword))},dependencies:[l.bT,a.Jm,a.iq,a.$w,a.uz,a.Gw,C.BC,C.l_]}),_})()}}]);