<app-header [isModal]="true" [title]=" cupon ? 'Actualizar cupón': 'Agregar cupón' "></app-header>

<ion-content>
  <form [formGroup]="form" class="ion-padding ion-text-center" (ngSubmit)="submit()" (keypress.enter)="submit()">

    <!-- Input: Nombre -->
    <app-custom-input autocomplete="descripcion" [control]="form.controls.descripcion" type="text" label="Descripción"></app-custom-input>
    <div class="validators" *ngIf="form.controls.descripcion.errors && form.controls.descripcion.touched">
      <div *ngIf="form.controls.descripcion.errors?.['required']">Este campo es requerido</div>
      <div *ngIf="form.controls.descripcion.errors?.['minlength']">El nombre debe tener al menos 4 caracteres</div>
    </div>

    <!-- Input: Apellido paterno -->
    <app-custom-input autocomplete="codigo" [control]="form.controls.codigo" type="text" label="Codígo"></app-custom-input>
    <div class="validators" *ngIf="form.controls.codigo.errors && form.controls.codigo.touched">
      <div *ngIf="form.controls.codigo.errors?.['required']">Este campo es requerido</div>
      <div *ngIf="form.controls.descripcion.errors?.['minlength']">El nombre debe tener al menos 4 caracteres</div>
    </div>

    <!-- Input: Apellido materno -->
    <app-custom-input autocomplete="numero_compras" [control]="form.controls.numero_compras" type="number" label="Número de compras minimas"></app-custom-input>
    <div class="validators" *ngIf="form.controls.numero_compras.errors && form.controls.numero_compras.touched">
      <div *ngIf="form.controls.numero_compras.errors?.['required']">Este campo es requerido</div>
    </div>

    <!-- Input: Correo -->
    <app-custom-input autocomplete="off" autocorrect="off" [control]="form.controls.porcentaje" type="number" label="Porcentaje"></app-custom-input>
    <div class="validators" *ngIf="form.controls.porcentaje.errors && form.controls.porcentaje.touched">
      <div *ngIf="form.controls.porcentaje.errors?.['required']">Este campo es requerido</div>
    </div>


    <!-- Botón de envío -->
    <ion-button class="ion-margin" mode="ios" class="submit" type="submit" [disabled]="form.invalid">
      {{ cupon ? 'Actualizar cupón' : 'Agregar cupón' }}
      <ion-icon slot="end" name="checkmark-circle-outline"></ion-icon>
    </ion-button>
  </form>
</ion-content>